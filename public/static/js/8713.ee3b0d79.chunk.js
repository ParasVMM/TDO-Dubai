"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[8713],{18713:(e,t,r)=>{r.r(t),r.d(t,{default:()=>x});var a=r(55294),s=r(72791),n=r(78983),i=r(96564),o=r(37831),l=r(81364),d=r(80184);const c=e=>{const t=[{name:"GroupName",selector:e=>e.GroupName,sortable:!0},{name:"Description",selector:e=>e.Description,sortable:!0,width:"220px"},{name:"CreatedDate",selector:e=>e.CreatedDate,sortable:!0,width:"160px"},{name:"CreatedBy",selector:e=>e.CreatedBy,sortable:!0},{name:"UpdatedDate",selector:e=>e.UpdatedDate,sortable:!0,width:"160px"},{name:"UpdatedBy",selector:e=>e.UpdatedBy,sortable:!0,width:"180px"},{button:!0,cell:t=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("button",{title:"Edit User Group",onClick:()=>e.showDataInModal(t),className:"btn btn-link",children:(0,d.jsx)("i",{className:"fa fa-user-edit"})}),(0,d.jsx)("button",{title:"Delete User Group",onClick:()=>e.deleteHandler(t.GroupID),className:"btn btn-link",children:(0,d.jsx)("i",{className:"fa fa-trash"})})]})}],[r,a]=s.useState(""),[n,c]=s.useState(!1),u=e.data.filter((e=>-1!==JSON.stringify(e).toLowerCase().indexOf(r.toLowerCase()))),m=(0,s.useMemo)((()=>(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(o.Z,{onFilter:e=>a(e.target.value),onClear:()=>{r&&(c(!n),a(""))},filterText:r})})),[r,n]);return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(i.ZP,{columns:t,data:u,striped:!0,pagination:!0,subHeader:!0,subHeaderComponent:m,customStyles:l.X2})})};var u=r(51910),m=r(61134);const p=e=>{var t,r;let{FetchUserGroups:s}=e;const{register:n,handleSubmit:i,formState:{errors:o}}=(0,m.cI)();return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("form",{onSubmit:i((async function(e){try{const t=(0,l.Do)(l.vA),r=await a.Z.post(l.ys+"admin/user-group2",e,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});200===r.status&&r.data.error?(0,l.Jc)(r.data.message):200!==r.status||r.data.error||(s(),(0,l.Qm)(r.data.message))}catch(t){(0,l.Jc)(t.message)}})),children:[(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsxs)("label",{htmlFor:"GroupName",children:["Group Name ",(0,d.jsx)("span",{className:"text-danger",children:"*"})]}),(0,d.jsx)("input",{type:"text",id:"GroupName",name:"GroupName",className:"form-control",...n("GroupName",{required:"This is a required field.",validate:e=>!/<|>/.test(e)||'Name cannot contain "<" or ">"'})}),(null===o||void 0===o?void 0:o.GroupName)&&(0,d.jsx)("p",{className:"text-danger",children:null===o||void 0===o||null===(t=o.GroupName)||void 0===t?void 0:t.message})]}),(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsxs)("label",{htmlFor:"Description",children:["Description ",(0,d.jsx)("span",{className:"text-danger",children:"*"})]}),(0,d.jsx)("input",{type:"text",id:"Description",name:"Description",className:"form-control",...n("Description",{required:"This is a required field.",validate:e=>!/<|>/.test(e)||'Name cannot contain "<" or ">"'})}),(null===o||void 0===o?void 0:o.Description)&&(0,d.jsx)("p",{className:"text-danger",children:null===o||void 0===o||null===(r=o.Description)||void 0===r?void 0:r.message})]}),(0,d.jsx)("button",{className:"btn btn-primary px-5",children:"Create"})]})})},h=e=>{var t,r;let{userGroup:s,FetchUserGroups:n}=e;const{register:i,handleSubmit:o,formState:{errors:c}}=(0,m.cI)({defaultValues:s});return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("form",{onSubmit:o((async function(e){try{const t=(0,l.Do)(l.vA),r=await a.Z.put(l.ys+"admin/user-group2/"+e.GroupID,e,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});200===r.status&&r.data.error?(0,l.Jc)(r.data.message):200!==r.status||r.data.error||(n(),(0,l.Qm)(r.data.message))}catch(t){(0,l.Jc)(t.message)}})),children:[(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsxs)("label",{htmlFor:"GroupName",children:["Group Name ",(0,d.jsx)("span",{className:"text-danger",children:"*"})]}),(0,d.jsx)("input",{type:"text",id:"GroupName",name:"GroupName",className:"form-control",readOnly:!0,...i("GroupName",{required:"This is a required field.",validate:e=>!/<|>/.test(e)||'Name cannot contain "<" or ">"'})}),(null===c||void 0===c?void 0:c.GroupName)&&(0,d.jsx)("p",{className:"text-danger",children:null===c||void 0===c||null===(t=c.GroupName)||void 0===t?void 0:t.message})]}),(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsxs)("label",{htmlFor:"Description",children:["Description ",(0,d.jsx)("span",{className:"text-danger",children:"*"})]}),(0,d.jsx)("input",{type:"text",id:"Description",name:"Description",className:"form-control",...i("Description",{required:"This is a required field.",validate:e=>!/<|>/.test(e)||'Name cannot contain "<" or ">"'})}),(null===c||void 0===c?void 0:c.Description)&&(0,d.jsx)("p",{className:"text-danger",children:null===c||void 0===c||null===(r=c.Description)||void 0===r?void 0:r.message})]}),(0,d.jsx)("button",{className:"btn btn-primary px-5",children:"Create"})]})})},x=()=>{const[e,t]=(0,s.useState)(null);async function r(){try{let e=(0,l.Do)(l.vA),r=l.ys+"admin/user-group2",s=await a.Z.get(r,{headers:{Authorization:"Bearer ".concat(e)}});200!==s.status||s.data.error||t(s.data.recordset)}catch(e){(0,l.Jc)(e.message)}}(0,s.useEffect)((()=>{r().then()}),[]);const[i,o]=(0,s.useState)(!1),[m,x]=(0,s.useState)(!1),[j,b]=(0,s.useState)(null);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(n.xH,{children:[(0,d.jsx)(n.bn,{className:"card-header-bg",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-8",children:(0,d.jsx)("h4",{className:"mb-0 primary-color",children:"User Group"})}),(0,d.jsx)("div",{className:"col-4 text-end",children:(0,d.jsxs)("button",{onClick:()=>o(!0),className:"btn btn-primary btn-sm",children:["Add User Group ",(0,d.jsx)("i",{className:"fa fa-plus"})]})})]})}),(0,d.jsx)(n.sl,{children:e?e.length>0&&(0,d.jsx)(c,{data:e,deleteHandler:async e=>{if(confirm("Are you sure?"))try{let t=(0,l.Do)(l.vA),s=l.ys+"admin/user-group2/"+e,n=await a.Z.delete(s,{headers:{Authorization:"Bearer ".concat(t)}});200===n.status&&n.data.error?(0,l.Jc)(n.data.message):200!==n.status||n.data.error||(r().then(),(0,l.Qm)(n.data.message))}catch(t){(0,l.Jc)(t.message)}},showDataInModal:e=>{b(e),x(!0)}}):(0,d.jsx)("div",{className:"text-center",children:(0,d.jsx)("i",{className:"spinner spinner-border"})})})]}),(0,d.jsxs)(u.Z,{show:i,onHide:()=>o(!1),centered:!0,children:[(0,d.jsx)(u.Z.Header,{closeButton:!0,children:(0,d.jsx)(u.Z.Title,{children:"Create User Group"})}),(0,d.jsx)(u.Z.Body,{children:(0,d.jsx)(p,{FetchUserGroups:r})})]}),(0,d.jsxs)(u.Z,{show:m,onHide:()=>x(!1),centered:!0,children:[(0,d.jsx)(u.Z.Header,{closeButton:!0,children:(0,d.jsx)(u.Z.Title,{children:"Edit User Group"})}),(0,d.jsx)(u.Z.Body,{children:(0,d.jsx)(h,{userGroup:j,FetchUserGroups:r})})]})]})}},37831:(e,t,r)=>{r.d(t,{Z:()=>c});var a,s,n=r(30168),i=(r(72791),r(49256)),o=r(80184);const l=i.default.input.attrs((e=>({type:"text",size:e.small?5:void 0})))(a||(a=(0,n.Z)(["\n  height: 32px;\n  width: 200px;\n  border-radius: 3px;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border: 1px solid #e5e5e5;\n  padding: 0 32px 0 16px;\n"]))),d=i.default.button(s||(s=(0,n.Z)(["\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  height: 34px;\n  width: 32px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),c=e=>{let{filterText:t,onFilter:r,onClear:a}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l,{id:"search",type:"text",placeholder:"Filter table data...",value:t,onChange:r}),(0,o.jsx)(d,{className:"bg-dark text-white",onClick:a,children:"X"})]})}}}]);
//# sourceMappingURL=8713.ee3b0d79.chunk.js.map