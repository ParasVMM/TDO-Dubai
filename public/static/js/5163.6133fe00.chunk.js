"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[5163],{55163:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var r=a(72791),s=a(61134),l=a(78983),i=a(81364),d=a(55294),n=a(96564),o=a(37831),c=a(80184);const m=e=>{const[t,a]=r.useState(""),[s,l]=r.useState(!1),d=e.data.filter((e=>-1!==JSON.stringify(e).toLowerCase().indexOf(t.toLowerCase()))),m=(0,r.useMemo)((()=>(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(o.Z,{onFilter:e=>a(e.target.value),onClear:()=>{t&&(l(!s),a(""))},filterText:t})})),[t,s]);return(0,c.jsx)(n.ZP,{columns:[{name:"Company ID",selector:e=>e.CompanyId,sortable:!0,width:"135px"},{name:"Transaction ID",selector:e=>e.TrackID,sortable:!0,width:"150px"},{name:"Reference No",selector:e=>e.ReferenceNo,sortable:!0,width:"150px"},{name:"Service",selector:e=>e.Service,sortable:!0,width:"250px"},{name:"Debit",selector:e=>e.Debit,sortable:!0,width:"100px"},{name:"Credit",selector:e=>e.Credit,sortable:!0,width:"100px"},{name:"Balance",selector:e=>e.AvailableBalance,sortable:!0,width:"100px"},{name:"Date",selector:e=>e.InsertedOn,sortable:!0}],data:d,striped:!0,pagination:!0,subHeader:!0,subHeaderComponent:m,customStyles:i.X2})},u=()=>{var e,t,a;const[n,o]=(0,r.useState)(null);(0,r.useEffect)((()=>{(async function(){try{let e=(0,i.Do)(i.vA),t=i.ys+"admin/getActiveCompanyName",a=await d.Z.get(t,{headers:{Authorization:"Bearer ".concat(e)}});200!==a.status||a.data.error||o(a.data.recordset)}catch(e){(0,i.Jc)(e.message)}})().then()}),[]);const{register:u,handleSubmit:h,formState:{errors:x},reset:p}=(0,s.cI)(),[b,v]=(0,r.useState)(null),[f,g]=(0,r.useState)(!1);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(l.xH,{className:"mb-4",children:[(0,c.jsx)(l.bn,{className:"card-header-bg",children:(0,c.jsx)("h4",{className:"mb-0 primary-color",children:"Partner Account Ledger"})}),(0,c.jsx)(l.sl,{children:n&&n.length>0&&(0,c.jsxs)("form",{onSubmit:h((async function(e){try{let t=n.filter((t=>t.Id===e.id))[0];e.CompanyId=null===t||void 0===t?void 0:t.CompanyId,g(!0);const a=(0,i.Do)(i.vA),r=i.ys+"admin/agent-wallet-ledger";let s=await d.Z.post(r,e,{headers:{Authorization:"Bearer ".concat(a)}});200===s.status&&s.data.error?(0,i.Jc)(s.data.message):200!==s.status||s.data.error||v(s.data.recordset),g(!1)}catch(t){(0,i.Jc)(t.message),g(!1)}})),children:[(0,c.jsxs)("div",{className:"row",children:[(0,c.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,c.jsx)("label",{htmlFor:"id",children:"Agency Name"}),(0,c.jsxs)("select",{name:"id",id:"id",className:"form-select",...u("id",{required:"This field is required."}),children:[(0,c.jsx)("option",{value:"",children:"--Please Select --"}),null===n||void 0===n?void 0:n.map((e=>(0,c.jsxs)("option",{value:null===e||void 0===e?void 0:e.Id,children:[null===e||void 0===e?void 0:e.CompanyName," (",null===e||void 0===e?void 0:e.CompanyId,")"]},null===e||void 0===e?void 0:e.Id)))]}),(null===x||void 0===x?void 0:x.id)&&(0,c.jsx)("p",{className:"text-danger",children:null===x||void 0===x||null===(e=x.id)||void 0===e?void 0:e.message})]}),(0,c.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,c.jsx)("label",{htmlFor:"fromDate",children:"From Date"}),(0,c.jsx)("input",{type:"date",name:"fromDate",id:"fromDate",className:"form-control",...u("fromDate",{required:"This field is required."})}),(null===x||void 0===x?void 0:x.fromDate)&&(0,c.jsx)("p",{className:"text-danger",children:null===x||void 0===x||null===(t=x.fromDate)||void 0===t?void 0:t.message})]}),(0,c.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,c.jsx)("label",{htmlFor:"toDate",children:"To Date"}),(0,c.jsx)("input",{type:"date",name:"toDate",id:"toDate",className:"form-control",...u("toDate",{required:"This field is required."})}),(null===x||void 0===x?void 0:x.toDate)&&(0,c.jsx)("p",{className:"text-danger",children:null===x||void 0===x||null===(a=x.toDate)||void 0===a?void 0:a.message})]})]}),(0,c.jsx)("button",{disabled:f,className:"btn btn-primary px-5",children:"Search"})]})})]}),b&&(0,c.jsxs)(l.xH,{className:"mb-4",children:[(0,c.jsx)(l.bn,{className:"card-header-bg",children:(0,c.jsx)("h4",{className:"mb-0 primary-color",children:"Ledger Report"})}),(0,c.jsx)(l.sl,{children:(0,c.jsx)(m,{data:b})})]})]})}},37831:(e,t,a)=>{a.d(t,{Z:()=>c});var r,s,l=a(30168),i=(a(72791),a(49256)),d=a(80184);const n=i.default.input.attrs((e=>({type:"text",size:e.small?5:void 0})))(r||(r=(0,l.Z)(["\n  height: 32px;\n  width: 200px;\n  border-radius: 3px;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border: 1px solid #e5e5e5;\n  padding: 0 32px 0 16px;\n"]))),o=i.default.button(s||(s=(0,l.Z)(["\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  height: 34px;\n  width: 32px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),c=e=>{let{filterText:t,onFilter:a,onClear:r}=e;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n,{id:"search",type:"text",placeholder:"Filter table data...",value:t,onChange:a}),(0,d.jsx)(o,{className:"bg-dark text-white",onClick:r,children:"X"})]})}}}]);
//# sourceMappingURL=5163.6133fe00.chunk.js.map