"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[444],{30444:(e,s,r)=>{r.r(s),r.d(s,{default:()=>u});var i=r(55294),a=r(72791),l=r(57689),n=r(78983),d=r(81364),t=r(51910),c=r(61134),o=r(75970),m=r(80184);const h=e=>{let{agent:s,ReadDistributorDetails:r,handleClose:l}=e;const{register:n,handleSubmit:t,formState:{errors:h}}=(0,c.cI)({defaultValues:s}),[u,x]=(0,a.useState)(!1);return(0,m.jsx)("div",{className:"container",children:(0,m.jsx)("div",{className:"border border-light shadow rounded p-3",children:(0,m.jsx)("form",{onSubmit:t((async e=>{try{const a=(0,d.Do)(d.vA),n="".concat(d.ys,"admin/distributors/").concat(s.id),t=await i.Z.put(n,e,{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}});200===t.status&&t.data.error?(0,d.Jc)(t.data.message):200!==t.status||t.data.error||(l(),r(s.id),(0,d.Qm)(t.data.message)),x(!1)}catch(a){(0,d.Jc)(a.message)}})),children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-12 mb-2",children:(0,m.jsx)("h5",{style:{color:"#FF0000"},children:"Member Information"})}),(0,m.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,m.jsx)("label",{htmlFor:"agency_name",children:"Business/Agency Name"}),(0,m.jsx)("input",{type:"text",className:"form-control",...n("agency_name",{required:"This field is required."})}),(0,m.jsx)(o.B,{errors:h,name:"agency_name",render:e=>{let{message:s}=e;return(0,m.jsx)("p",{className:"text-danger",children:s})}})]}),(0,m.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,m.jsx)("label",{htmlFor:"nature_of_business",children:"Nature of Business"}),(0,m.jsxs)("select",{name:"nature_of_business",id:"nature_of_business",className:"form-select",...n("nature_of_business",{required:"This is a required field."}),children:[(0,m.jsx)("option",{value:"",children:"Please Select Nature of Business"}),(0,m.jsx)("option",{value:"Proprietorship",children:"Proprietorship"}),(0,m.jsx)("option",{value:"Individual",children:"Individual"}),(0,m.jsx)("option",{value:"Partnership Firm",children:"Partnership Firm"}),(0,m.jsx)("option",{value:"Private Limited",children:"Private Limited"}),(0,m.jsx)("option",{value:"Others",children:"Others"})]}),(0,m.jsx)(o.B,{errors:h,name:"nature_of_business",render:e=>{let{message:s}=e;return(0,m.jsx)("p",{className:"text-danger",children:s})}})]}),(0,m.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,m.jsx)("label",{htmlFor:"authorized_person_first_name",children:"Authorized Person Firstname"}),(0,m.jsx)("input",{type:"text",className:"form-control",...n("authorized_person_first_name",{required:"This field is required."})}),(0,m.jsx)(o.B,{errors:h,name:"authorized_person_first_name",render:e=>{let{message:s}=e;return(0,m.jsx)("p",{className:"text-danger",children:s})}})]}),(0,m.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,m.jsx)("label",{htmlFor:"authorized_person_last_name",children:"Authorized Person Lastname"}),(0,m.jsx)("input",{type:"text",className:"form-control",...n("authorized_person_last_name",{required:"This field is required."})}),(0,m.jsx)(o.B,{errors:h,name:"authorized_person_last_name",render:e=>{let{message:s}=e;return(0,m.jsx)("p",{className:"text-danger",children:s})}})]}),(0,m.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,m.jsx)("label",{htmlFor:"email",children:"Email"}),(0,m.jsx)("input",{type:"email",className:"form-control",...n("email",{required:"This field is required."})}),(0,m.jsx)(o.B,{errors:h,name:"email",render:e=>{let{message:s}=e;return(0,m.jsx)("p",{className:"text-danger",children:s})}})]}),(0,m.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,m.jsx)("label",{htmlFor:"mobile",children:"Mobile Number"}),(0,m.jsx)("input",{type:"text",className:"form-control",...n("mobile",{required:"This field is required."})}),(0,m.jsx)(o.B,{errors:h,name:"mobile",render:e=>{let{message:s}=e;return(0,m.jsx)("p",{className:"text-danger",children:s})}})]}),(0,m.jsx)("div",{className:"col-md-12 mb-2",children:(0,m.jsx)("h5",{style:{color:"#FF0000"},children:"Office Address"})}),(0,m.jsxs)("div",{className:"col-md-12 mb-3",children:[(0,m.jsx)("label",{htmlFor:"address1",children:"Address"}),(0,m.jsx)("textarea",{name:"address1",id:"address1",className:"form-control",...n("address1",{required:"This is a required field.",validate:e=>!/<|>/.test(e)||'Address cannot contain "<" or ">"'}),placeholder:"Enter Address"}),(0,m.jsx)(o.B,{errors:h,name:"address1",render:e=>{let{message:s}=e;return(0,m.jsx)("p",{className:"text-danger",children:s})}})]}),(0,m.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,m.jsx)("label",{htmlFor:"city",children:"City"}),(0,m.jsx)("input",{type:"text",id:"city",name:"city",className:"form-control",...n("city",{required:"This is a required field.",validate:e=>!/<|>/.test(e)||'City cannot contain "<" or ">"'}),placeholder:"Enter City"}),(0,m.jsx)(o.B,{errors:h,name:"city",render:e=>{let{message:s}=e;return(0,m.jsx)("p",{className:"text-danger",children:s})}})]}),(0,m.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,m.jsx)("label",{htmlFor:"state",children:"State"}),(0,m.jsx)("input",{type:"text",id:"state",name:"state",className:"form-control",...n("state",{required:"This is a required field.",validate:e=>!/<|>/.test(e)||'State cannot contain "<" or ">"'}),placeholder:"Enter State"}),(0,m.jsx)(o.B,{errors:h,name:"state",render:e=>{let{message:s}=e;return(0,m.jsx)("p",{className:"text-danger",children:s})}})]}),(0,m.jsx)("div",{className:"col-12",children:(0,m.jsx)("button",{disabled:u,className:"btn btn-primary px-5",children:"Update"})})]})})})})},u=()=>{var e,s,r;const c=(0,l.TH)(),o=(0,l.s0)(),[u,x]=(0,a.useState)(null);async function j(e){try{let s=(0,d.Do)(d.vA),r=d.ys+"admin/distributors/"+e,a=await i.Z.get(r,{headers:{Authorization:"Bearer ".concat(s)}});200!==a.status||a.data.error||x(a.data.recordset[0])}catch(s){(0,d.Jc)(s.message)}}(0,a.useEffect)((()=>{window.scrollTo(0,0),c.state?j(c.state.id).then():o("/dashboard")}),[c]);const[v,b]=(0,a.useState)(!1),p=()=>b(!1);async function N(e,s){if(confirm("Are you sure?")){let r=(0,d.Do)(d.vA),a=d.ys+"admin/distributors-status",l="0";"Activate"===s&&(l="1");let n=await i.Z.post(a,{id:e,status:l},{headers:{Authorization:"Bearer ".concat(r)}});200===n.status&&n.data.error&&(0,d.Jc)(n.data.message),200!==n.status||n.data.error||((0,d.Qm)(n.data.message),j(e).then())}}return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(n.xH,{className:"mb-4",children:[(0,m.jsx)(n.bn,{children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-6",children:(0,m.jsx)("h4",{className:"mb-0 primary-color",children:"Authorized Person Details"})}),(0,m.jsx)("div",{className:"col-6 text-end",children:(0,m.jsxs)("button",{onClick:()=>b(!0),className:"btn btn-success px-3 btn-sm text-white",children:[(0,m.jsx)("i",{className:"fa fa-edit"})," Edit Details"]})})]})}),(0,m.jsx)(n.sl,{children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"mb-3 col-md-4",children:(0,m.jsxs)("p",{children:["User Status: ",u?"1"===(null===u||void 0===u?void 0:u.status)?(0,m.jsx)("span",{className:"badge bg-success text-white",children:"Active"}):(0,m.jsx)("span",{className:"badge bg-danger text-white",children:"InActive"}):""]})}),(0,m.jsx)("div",{className:"mb-3 col-md-4",children:(0,m.jsxs)("p",{children:["Created On: ",(0,m.jsx)("b",{children:(null===u||void 0===u?void 0:u.createdOn)&&function(e){const s=new Date(e),r=s.toISOString().split("T")[0],i=s.toTimeString().split(" ")[0].slice(0,5);return"".concat(r," ").concat(i)}(null===u||void 0===u?void 0:u.createdOn)})]})}),(0,m.jsx)("div",{className:"mb-3 col-md-4 text-end",children:u?"0"===(null===u||void 0===u?void 0:u.status)?(0,m.jsx)("button",{onClick:()=>N(null===u||void 0===u?void 0:u.id,"Activate"),className:"btn btn-outline-success btn-sm px-4",children:"Activate"}):(0,m.jsxs)("button",{onClick:()=>N(null===u||void 0===u?void 0:u.id,"Inactive"),className:"btn btn-outline-danger btn-sm px-3",children:[(0,m.jsx)("i",{className:"fas fa-times"})," Inactive"]}):""}),(0,m.jsx)("div",{className:"mb-3 col-md-4",children:(0,m.jsxs)("p",{children:["First Name: ",(0,m.jsx)("b",{children:null===u||void 0===u?void 0:u.authorized_person_first_name})]})}),(0,m.jsx)("div",{className:"mb-3 col-md-4",children:(0,m.jsxs)("p",{children:["Last Name: ",(0,m.jsx)("b",{children:null===u||void 0===u?void 0:u.authorized_person_last_name})]})}),(0,m.jsx)("div",{className:"mb-3 col-md-4",children:(0,m.jsxs)("p",{children:["Email Id: ",(0,m.jsx)("b",{children:null===u||void 0===u?void 0:u.email})]})}),(0,m.jsx)("div",{className:"mb-3 col-md-4",children:(0,m.jsxs)("p",{children:["Mobile Number: ",(0,m.jsx)("b",{children:null===u||void 0===u?void 0:u.mobile})]})}),null===u||void 0===u||null===(e=u.DistributorAuthorizedPersonKYCDocuments)||void 0===e?void 0:e.map((e=>(0,m.jsx)("div",{className:"mb-3 col-md-4",children:(0,m.jsxs)("p",{children:[null===e||void 0===e?void 0:e.document_name," Number: ",(0,m.jsx)("b",{children:null===e||void 0===e?void 0:e.document_number})]})},null===e||void 0===e?void 0:e.id))),(0,m.jsx)("div",{className:"mb-3 col-md-4",children:(0,m.jsxs)("p",{children:["Address: ",(0,m.jsx)("b",{children:null===u||void 0===u?void 0:u.address1})]})}),(0,m.jsx)("div",{className:"mb-3 col-md-4",children:(0,m.jsxs)("p",{children:["City: ",(0,m.jsx)("b",{children:null===u||void 0===u?void 0:u.city})]})}),(0,m.jsx)("div",{className:"mb-3 col-md-4",children:(0,m.jsxs)("p",{children:["State: ",(0,m.jsx)("b",{children:null===u||void 0===u?void 0:u.state})]})})]})})]}),(0,m.jsxs)(n.xH,{className:"mb-4",children:[(0,m.jsx)(n.bn,{className:"",children:(0,m.jsx)("h4",{className:"mb-0 primary-color",children:"Authorized Person Documents"})}),(0,m.jsx)(n.sl,{children:(0,m.jsx)("div",{className:"row",children:null===u||void 0===u||null===(s=u.DistributorAuthorizedPersonKYCDocuments)||void 0===s?void 0:s.map((e=>(0,m.jsx)("div",{className:"mb-0 col-md-6",children:(0,m.jsxs)("p",{children:[null===e||void 0===e?void 0:e.document_name," Number: ",(0,m.jsx)("a",{href:d.ys+"uploads/"+(null===e||void 0===e?void 0:e.document_path),target:"_blank",children:"View / Download"})]})},null===e||void 0===e?void 0:e.id)))})})]}),(0,m.jsxs)(n.xH,{className:"mb-4",children:[(0,m.jsx)(n.bn,{children:(0,m.jsx)("h4",{className:"mb-0 primary-color",children:"Agency Details"})}),(0,m.jsx)(n.sl,{children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"mb-0 col-md-6",children:(0,m.jsxs)("p",{children:["Business/Agency Name: ",(0,m.jsx)("b",{children:null===u||void 0===u?void 0:u.agency_name})]})}),(0,m.jsx)("div",{className:"mb-0 col-md-6",children:(0,m.jsxs)("p",{children:["Nature of Business: ",(0,m.jsx)("b",{children:null===u||void 0===u?void 0:u.nature_of_business})]})})]})})]}),(0,m.jsxs)(n.xH,{className:"mb-4",children:[(0,m.jsx)(n.bn,{children:(0,m.jsx)("h4",{className:"mb-0 primary-color",children:"Agency Documents"})}),(0,m.jsx)(n.sl,{children:(0,m.jsx)("div",{className:"row",children:null===u||void 0===u||null===(r=u.DistributorKYCDocuments)||void 0===r?void 0:r.map((e=>(0,m.jsx)("div",{className:"mb-2 col-md-6",children:(0,m.jsxs)("p",{children:[null===e||void 0===e?void 0:e.document_name,": ",(0,m.jsx)("a",{href:d.ys+"uploads/"+(null===e||void 0===e?void 0:e.document_path),target:"_blank",children:"View / Download"})]})},null===e||void 0===e?void 0:e.id)))})})]}),(0,m.jsxs)(t.Z,{show:v,onHide:p,centered:!0,fullscreen:!0,size:"lg",children:[(0,m.jsx)(t.Z.Header,{closeButton:!0,children:(0,m.jsx)("h4",{children:"Update Details"})}),(0,m.jsx)(t.Z.Body,{children:(0,m.jsx)(h,{agent:u,ReadDistributorDetails:j,handleClose:p})})]})]})}},75970:(e,s,r)=>{r.d(s,{B:()=>l});var i=r(72791),a=r(61134),l=function(e){var s=e.as,r=e.errors,l=e.name,n=e.message,d=e.render,t=function(e,s){if(null==e)return{};var r,i,a={},l=Object.keys(e);for(i=0;i<l.length;i++)s.indexOf(r=l[i])>=0||(a[r]=e[r]);return a}(e,["as","errors","name","message","render"]),c=(0,a.Gc)(),o=(0,a.U2)(r||c.formState.errors,l);if(!o)return null;var m=o.message,h=o.types,u=Object.assign({},t,{children:m||n});return i.isValidElement(s)?i.cloneElement(s,u):d?d({message:m||n,messages:h}):i.createElement(s||i.Fragment,u)}}}]);
//# sourceMappingURL=444.6fae3281.chunk.js.map