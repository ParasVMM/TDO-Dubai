"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[8057],{68057:(e,s,r)=>{r.r(s),r.d(s,{default:()=>p});var t=r(78983),i=(r(40835),r(16157)),n=r(62591),a=r(72791),l=r(51910),c=r(61134),d=r(81364),o=r(55294);r(88429);var h=r(80184);const p=()=>{let{register:e,handleSubmit:s,reset:r,formState:{errors:p}}=(0,c.cI)();const[m,x]=(0,a.useState)(!1),[A,j]=(0,a.useState)([]);let[u,g]=(0,a.useState)(!0);const f=()=>x(!1);function b(){let e=(0,d.Do)(d.vA);o.Z.get(d.ys+"admin/suppliers",{headers:{Authorization:"Bearer ".concat(e),Content_Type:"application-json"}}).then((e=>{!1===e.data.error?(console.log(e),j(e.data.recordset),g(!1)):(g(!1),(0,d.Jc)("Error"))})).catch((e=>{g(!1),console.log(e)}))}return(0,a.useEffect)((()=>{b()}),[]),(0,h.jsx)(h.Fragment,{children:u?(0,h.jsx)("div",{children:(0,h.jsx)("span",{className:"spinner-border text-primary"})}):(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(t.xH,{className:"mb-4",children:(0,h.jsx)(t.sl,{children:(0,h.jsx)(t.rb,{children:(0,h.jsxs)("div",{className:"table-responsive px-3 ",children:[(0,h.jsxs)("div",{className:"bg-light py-2 mb-3",children:[(0,h.jsx)(i.Z,{variant:"primary",onClick:()=>{x(!0)},children:"Add New Supplier"}),(0,h.jsx)("div",{className:"row"})]}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("br",{}),(0,h.jsx)("div",{style:{height:"335px"},className:"table-responsive",children:(0,h.jsxs)(n.Z,{responsive:!0,hover:!0,children:[(0,h.jsx)("thead",{style:{position:"sticky",top:0},children:(0,h.jsxs)("tr",{className:"text-center",children:[(0,h.jsx)("th",{children:"Serial no."}),(0,h.jsx)("th",{children:"Supplier Name"}),(0,h.jsx)("th",{children:"Delete"})]})}),(0,h.jsx)("tbody",{children:(null===A||void 0===A?void 0:A.length)>0&&A.map(((e,s)=>(0,h.jsxs)("tr",{className:"text-center",children:[(0,h.jsx)("td",{children:s+1}),(0,h.jsx)("td",{children:(0,h.jsx)("b",{children:e.name})}),(0,h.jsx)("td",{children:(0,h.jsx)("a",{onClick:s=>function(e){let s=(0,d.Do)(d.vA);o.Z.delete(d.ys+"admin/suppliers/"+e,{headers:{Authorization:"Bearer ".concat(s),Content_Type:"application-json"}}).then((e=>{!1===e.data.error?((0,d.Qm)(e.data.message),b()):(0,d.Jc)("Error while Deleting")})).catch((e=>{console.log(e)}))}(e.id),children:(0,h.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFTSURBVDhPvZQ9TsQwEIWfE7tZOjqOgDgGHT89JSVHQiAQBRIcho4FcQK6BUQTLfkxb5whirM4ZLfgk0aeZ8eT8cQTpGiQ75dwTQXn+yZzJdf0sRUyHVeokW8Z4I3uom8ylyOf0f8f+MIWHuWcwwmtm5uIp907lGciwmbOGNanokiWYAzurxnQit8LaG/E3wRm4XNUp+JHx1vC7Rn4bZWTsMgWGb6eVcaUsHfDa/KX1bC3uj0wqJl5Vyfg4R9pvbf7J+q5ikADI1erIwpIES2yHhe0a5XCFfWl+gGWSO5nRxSwho8yFBodf/hFj2UYpz8F7kln6Ac1nIJHk86QixsEHMnQbnBkhzwdsIBdO0O2QzrgDMVaGbJlSw6frWqJApKCtmxdwRzzKx6oIOaQ+kiF8MF7KX+bjqiXBbbTK4edVo3DrnlxqHZVBoYZEv+gzhQGzwLfKs+CtvBzz/EAAAAASUVORK5CYII=",alt:"Delete Icon"})})})]},s)))})]})})]})]})})})}),(0,h.jsxs)(l.Z,{show:m,onHide:f,centered:!0,children:[(0,h.jsx)(l.Z.Header,{closeButton:!0,children:(0,h.jsx)(l.Z.Title,{children:"Add New Supplier"})}),(0,h.jsx)(l.Z.Body,{children:(0,h.jsxs)("form",{onSubmit:s((function(e){let s=(0,d.Do)(d.vA);o.Z.post(d.ys+"admin/suppliers",e,{headers:{Authorization:"Bearer ".concat(s),Content_Type:"application-json"}}).then((e=>{!1===e.data.error?((0,d.Qm)(e.data.message),r(),f(),b()):(0,d.Jc)("Error while Adding")})).catch((e=>{console.log(e)}))})),children:[(0,h.jsxs)("div",{className:"mb-3",children:[(0,h.jsx)("label",{htmlFor:"supname",children:"Supplier Name"}),(0,h.jsx)("input",{...e("supname",{required:!0}),placeholder:"Enter supplier Name",type:"text",id:"supname",className:"form-control"}),p.supname&&(0,h.jsx)("p",{className:"text-danger",children:"This is a required field."})]}),(0,h.jsx)("hr",{}),(0,h.jsxs)("div",{className:"mb d-flex justify-content-between align-items-center",children:[(0,h.jsx)(i.Z,{variant:"secondary",onClick:f,children:"Close"}),(0,h.jsx)(i.Z,{variant:"primary",type:"submit",className:"ml-auto",children:"Add"})]})]})})]})]})})})}},88429:(e,s,r)=>{e.exports=r.p+"static/media/BackgroundLogo.51ee0f85faefde162c53.gif"}}]);
//# sourceMappingURL=8057.295f5117.chunk.js.map