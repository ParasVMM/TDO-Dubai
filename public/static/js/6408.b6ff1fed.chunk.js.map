{"version":3,"file":"static/js/6408.b6ff1fed.chunk.js","mappings":"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","sources":["views/dashboard/PlatformFees.js"],"sourcesContent":["import {CCard, CCardBody, CCardHeader} from \"@coreui/react\";\nimport Button from \"react-bootstrap/Button\";\nimport Table from \"react-bootstrap/Table\";\nimport React, {useState} from \"react\";\nimport plus from \"../../assets/images/plus.png\";\nimport {useForm} from \"react-hook-form\";\nimport {errorToast, getCookieValue, ipAddress, successToast, tokenName} from \"../../utils/Common\";\nimport axios from \"axios\";\n\nconst PlatformFees = () => {\n\n  let {register, handleSubmit, reset, formState: {errors}} = useForm();\n  const [product, setProduct] = useState('');\n  const [platformFee, setPlatformFee] = useState('');\n  const [tax, setTax] = useState('');\n\n  const handleChange = (value) => {\n    // Do something with the selected value\n    // console.log(value);\n\n    if (value == '') {\n      setProduct('')\n      setPlatformFee('')\n      setTax('')\n    } else {\n      setProduct(value)\n      let token = getCookieValue(tokenName);\n      axios.get(ipAddress + \"admin/platformFee/\" + value, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content_Type': 'application-json',\n        }\n      })\n        .then((response) => {\n          if (response.data.error === false) {\n            setPlatformFee(response.data.recordset[0].fee);\n            setTax(response.data.recordset[0].tax);\n          } else {\n            errorToast(\"Error while Adding\");\n          }\n        }).catch(e => {\n        console.log(e)\n      })\n\n    }\n  };\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n\n    if (product === '') {\n      errorToast('Please select product')\n    } else if (platformFee === '') {\n      errorToast('Please enter platform fee')\n    } else if (tax === '') {\n      errorToast('Please enter tax fee')\n    } else {\n      console.log(product, platformFee, tax)\n      let data = {\n        product, platformFee, tax\n      }\n\n      console.log(data);\n\n      let token = getCookieValue(tokenName);\n      axios.put(ipAddress + \"admin/platformFee\" ,data, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content_Type': 'application-json',\n        }\n      })\n        .then((response) => {\n          if (response.data.error === false) {\n            successToast(\"Data Updated Successfuly\");\n          } else {\n            errorToast(\"Error while Adding\");\n          }\n        }).catch(e => {\n        console.log(e)\n      })\n\n    }\n  }\n\n  return (\n    <>\n      <CCard className=\"mb-4\">\n        <CCardBody>\n          <CCardHeader>\n            <div className=\"row\">\n              <div className=\"col-sm-12 text-center\">\n                <h2><b>Platform Fees</b></h2>\n              </div>\n\n            </div>\n            <br/>\n            <form onSubmit={onSubmit}>\n              {/*<form onSubmit={handleSubmit(onSubmit)}>*/}\n\n              <div className=\"row\">\n\n                <div className=\"col-sm-4\">\n                  <span>Products</span>\n                  <select className=\"form-control\"\n                          onChange={(e) => handleChange(e.target.value)}>\n                    <option value=\"\">Choose Product</option>\n                    <option value=\"Flights\">Flights</option>\n                    <option value=\"Insurance\">Insurance</option>\n                  </select>\n                </div>\n\n                <div className=\"col-sm-4\">\n                  <span>Platform Fees (In RS)</span>\n                  <input\n                    className=\"form-control\"\n                    type=\"number\"\n                    placeholder=\"Platform Fees\"\n                    value={platformFee}\n                    pattern = \"[0-9]{1,9}\"\n                    min=\"0\"\n                    onChange={(e) => setPlatformFee(e.target.value)}\n                  />\n                </div>\n\n\n                <div className=\"col-sm-4\">\n                  <span>TAX (In %)</span>\n                  <input\n                    className=\"form-control\"\n                    type=\"number\"\n                    placeholder=\"Tax (In %)\"\n                    value={tax}\n                    min=\"0\"\n                    max=\"100\"\n                    onChange={(e) => setTax(e.target.value)}\n                  />\n                </div>\n\n              </div>\n\n              <div className=\"row\" style={{marginTop: \"5px\"}}>\n\n\n                {/*<div className=\"col-sm-4\">*/}\n                {/*  <span>From Date</span>*/}\n                {/*  <input*/}\n                {/*    id=\"fromdate\"*/}\n                {/*    className=\"form-control\"*/}\n                {/*    type=\"date\"*/}\n                {/*    {...register('FromDate')}*/}\n                {/*  />*/}\n                {/*</div>*/}\n\n                {/*<div className=\"col-sm-4\">*/}\n                {/*  <span>To Date</span>*/}\n                {/*  <input*/}\n                {/*    id=\"todate\"*/}\n                {/*    className=\"form-control\"*/}\n                {/*    type=\"date\"*/}\n                {/*    {...register('ToDate')}*/}\n                {/*  />*/}\n                {/*</div>*/}\n\n                {/*<div className=\"col-sm-4\">*/}\n                {/*  <span>Payment Status</span>*/}\n                {/*  <select {...register('PaymentStatus')} className=\"form-control\">*/}\n                {/*    <option value=\"All\">All</option>*/}\n                {/*    <option value=\"Success\">Success</option>*/}\n                {/*    <option value=\"Requested\">Requested</option>*/}\n                {/*    <option value=\"Failure\">Failure</option>*/}\n                {/*    <option value=\"Refunded\">Refunded</option>*/}\n                {/*    <option value=\"Unpaid\">Unpaid</option>*/}\n                {/*  </select>*/}\n                {/*</div>*/}\n\n\n                <div className=\"col-sm-4\">\n                  <span style={{visibility: \"hidden\"}}>Booking Status</span>\n                  <br/>\n                  <Button variant=\"primary\" type=\"submit\">\n                    Edit Information\n                  </Button>\n                </div>\n\n              </div>\n\n              <div className=\"row\" style={{marginTop: \"5px\"}}>\n\n\n                {/*<div className=\"col-sm-4\">*/}\n                {/*  <span>Ticketing Status</span>*/}\n                {/*  <select {...register('TicketingStatus')} className=\"form-control\">*/}\n                {/*    <option value=\"All\">All</option>*/}\n                {/*    <option value=\"Ticketed\">Ticketed</option>*/}\n                {/*    <option value=\"Hold\">Hold</option>*/}\n                {/*    <option value=\"NotTicketed\">Not Tickted</option>*/}\n                {/*    <option value=\"OnRequest\">On Request</option>*/}\n                {/*  </select>*/}\n                {/*</div>*/}\n\n              </div>\n\n\n            </form>\n          </CCardHeader>\n\n        </CCardBody>\n      </CCard>\n    </>\n  )\n\n}\n\nexport default PlatformFees\n"],"names":["PlatformFees","register","handleSubmit","reset","formState","errors","useForm","product","setProduct","useState","platformFee","setPlatformFee","tax","setTax","_jsx","_Fragment","children","CCard","className","CCardBody","_jsxs","CCardHeader","onSubmit","e","preventDefault","errorToast","console","log","data","token","getCookieValue","tokenName","axios","put","ipAddress","headers","concat","then","response","error","successToast","catch","onChange","value","get","recordset","fee","handleChange","target","type","placeholder","pattern","min","max","style","marginTop","visibility","Button","variant"],"sourceRoot":""}