"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[9371],{37831:(e,s,a)=>{a.d(s,{Z:()=>o});var t,r,l=a(30168),n=(a(72791),a(49256)),i=a(80184);const d=n.default.input.attrs((e=>({type:"text",size:e.small?5:void 0})))(t||(t=(0,l.Z)(["\n  height: 32px;\n  width: 200px;\n  border-radius: 3px;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border: 1px solid #e5e5e5;\n  padding: 0 32px 0 16px;\n"]))),c=n.default.button(r||(r=(0,l.Z)(["\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  height: 34px;\n  width: 32px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),o=e=>{let{filterText:s,onFilter:a,onClear:t}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d,{id:"search",type:"text",placeholder:"Filter table data...",value:s,onChange:a}),(0,i.jsx)(c,{className:"bg-dark text-white",onClick:t,children:"X"})]})}},83934:(e,s,a)=>{a.d(s,{Z:()=>d});var t=a(72791),r=a(43513),l=a(37831),n=a(81364),i=a(80184);const d=e=>{const s=[{name:"",button:!0,cell:s=>(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("button",{onClick:()=>e.click(s.UserId),className:"btn btn-link",children:(0,i.jsx)("i",{className:"fa fa-eye"})})}),width:"50px"},{name:"Name",selector:e=>e.FirstName+" "+e.LastName,sortable:!0,width:"180px"},{name:"Company Id",selector:e=>e.CompanyId,sortable:!0,width:"140px"},{name:"Agency Name",selector:e=>e.CompanyName,sortable:!0,width:"280px"},{name:"Status",selector:e=>e.IsActive?(0,i.jsx)("span",{className:"text-success",children:"Active"}):(0,i.jsx)("span",{className:"text-danger",children:"InActive"}),sortable:!0},{name:"Group Type",selector:e=>e.GroupType,sortable:!0,width:"130px"},{name:"Mobile",selector:e=>e.PhoneNumber,sortable:!0,width:"120px"},{name:"Total Balance",selector:e=>e.TotalBalance,sortable:!0,width:"140px"},{name:"Credit Limit",selector:e=>e.TotalCreditLimit,sortable:!0,width:"140px"},{name:"Due Amount",selector:e=>e.DueAmount,sortable:!0,width:"140px"}],[a,d]=t.useState(""),[c,o]=t.useState(!1),m=e.data.filter((e=>-1!==JSON.stringify(e).toLowerCase().indexOf(a.toLowerCase()))),x=(0,t.useMemo)((()=>(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l.Z,{onFilter:e=>d(e.target.value),onClear:()=>{a&&(o(!c),d(""))},filterText:a})})),[a,c]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(r.ZP,{columns:s,data:m,striped:!0,pagination:!0,subHeader:!0,subHeaderComponent:x,customStyles:n.X2})})}},79371:(e,s,a)=>{a.r(s),a.d(s,{default:()=>h});var t=a(78983),r=a(72791),l=(a(83934),a(51910)),n=a(43513),i=a(37831),d=a(81364),c=a(55294),o=a(80184);const m=e=>{var s,a,t;const m=[{button:!0,cell:e=>(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("button",{onClick:()=>async function(e){try{let s=(0,d.Do)(d.vA),a=d.ys+"admin/users/"+e,t=await c.Z.get(a,{headers:{Authorization:"Bearer ".concat(s)}});200===t.status&&t.data.error?(0,d.Jc)(t.data.message):200!==t.status||t.data.error||(w(t.data.recordset[0]),g())}catch(s){(0,d.Jc)(s.message)}}(e.Id),className:"btn btn-link text-decoration-none",children:(0,o.jsx)("i",{className:"fa fa-eye"})})}),width:"60px"},{name:"Name",selector:e=>e.FirstName+" "+e.LastName,sortable:!0},{name:"User Name",selector:e=>e.UserName,sortable:!0},{name:"Email",selector:e=>e.Email,sortable:!0,width:"280px"},{name:"Phone Number",selector:e=>e.PhoneNumber,sortable:!0}],[x,h]=r.useState(""),[u,b]=r.useState(!1),p=e.data.filter((e=>-1!==JSON.stringify(e).toLowerCase().indexOf(x.toLowerCase()))),j=(0,r.useMemo)((()=>(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(i.Z,{onFilter:e=>h(e.target.value),onClear:()=>{x&&(b(!u),h(""))},filterText:x})})),[x,u]),[N,v]=(0,r.useState)(!1),g=()=>v(!0),[f,w]=(0,r.useState)(null);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.ZP,{columns:m,data:p,striped:!0,pagination:!0,subHeader:!0,subHeaderComponent:j}),(0,o.jsxs)(l.Z,{show:N,onHide:()=>v(!1),centered:!0,size:"lg",children:[(0,o.jsx)(l.Z.Header,{closeButton:!0,children:(0,o.jsx)(l.Z.Title,{children:"User Details"})}),(0,o.jsxs)(l.Z.Body,{children:[(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)("div",{className:"col-6 mb-3",children:(0,o.jsxs)("p",{className:"mb-0",children:["User Status: ",null!==f&&void 0!==f&&f.IsActive?(0,o.jsx)("span",{className:"badge bg-success text-white",children:"Active"}):(0,o.jsx)("span",{className:"badge bg-danger text-white",children:"InActive"})]})}),(0,o.jsx)("div",{className:"col-md-6 mb-3",children:(0,o.jsxs)("p",{className:"mb-0",children:["Created On: ",(0,o.jsx)("b",{children:null===f||void 0===f?void 0:f.CreatedOn})]})}),(0,o.jsx)("div",{className:"col-md-6 mb-3",children:(0,o.jsxs)("p",{className:"mb-0",children:["First Name: ",(0,o.jsx)("b",{children:null===f||void 0===f?void 0:f.FirstName})]})}),(0,o.jsx)("div",{className:"col-md-6 mb-3",children:(0,o.jsxs)("p",{className:"mb-0",children:["Last Name: ",(0,o.jsx)("b",{children:null===f||void 0===f?void 0:f.LastName})]})}),(0,o.jsx)("div",{className:"col-md-6 mb-3",children:(0,o.jsxs)("p",{className:"mb-0",children:["Email: ",(0,o.jsx)("b",{children:null===f||void 0===f?void 0:f.Email})]})}),(0,o.jsx)("div",{className:"col-md-6 mb-3",children:(0,o.jsxs)("p",{className:"mb-0",children:["Mobile No: ",(0,o.jsx)("b",{children:null===f||void 0===f?void 0:f.PhoneNumber})]})}),(0,o.jsx)("div",{className:"col-md-6 mb-3",children:(0,o.jsxs)("p",{className:"mb-0",children:["User Name: ",(0,o.jsx)("b",{children:null===f||void 0===f?void 0:f.UserName})]})}),(0,o.jsx)("div",{className:"col-md-6 mb-3",children:(0,o.jsxs)("p",{className:"mb-0",children:["Manager Name: ",(0,o.jsxs)("b",{children:[null===f||void 0===f||null===(s=f.manager)||void 0===s?void 0:s.FirstName," ",null===f||void 0===f||null===(a=f.manager)||void 0===a?void 0:a.LastName]})]})}),(0,o.jsx)("div",{className:"col-md-6 mb-3",children:(0,o.jsxs)("p",{className:"mb-0",children:["Branch: ",(0,o.jsx)("b",{children:null===f||void 0===f?void 0:f.BranchName})]})}),(0,o.jsx)("div",{className:"col-md-6 mb-3",children:(0,o.jsxs)("p",{className:"mb-0",children:["Department: ",(0,o.jsx)("b",{children:null===f||void 0===f?void 0:f.DepartmentName})]})})]}),(0,o.jsx)("hr",{}),(0,o.jsx)("p",{className:"mb-0",children:"User Roles: "}),(0,o.jsx)("ul",{children:null===f||void 0===f||null===(t=f.roles)||void 0===t?void 0:t.map((e=>(0,o.jsx)("li",{className:"mb-0",children:e.Name},e.Name)))})]})]})]})};var x=a(57689);const h=()=>{const e=Array.from({length:8}).map(((e,s)=>(0,o.jsx)(t.I,{as:"p",animation:"glow",children:(0,o.jsx)(t.I,{xs:12,size:"lg"})},s))),[s,a]=(0,r.useState)(null);(0,r.useEffect)((()=>{(async function(){try{let e=(0,d.Do)(d.vA),s=d.ys+"admin/users",t=await c.Z.get(s,{headers:{Authorization:"Bearer ".concat(e)}});200===t.status&&t.data.error?(0,d.Jc)(t.data.message):200!==t.status||t.data.error||a(t.data.recordset)}catch(e){(0,d.Jc)(e.message)}})().then()}),[]);const l=(0,x.s0)();return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(t.xH,{children:[(0,o.jsx)(t.bn,{className:"card-header-bg",children:(0,o.jsx)("h4",{className:"mb-0 primary-color",children:"Users Detail"})}),(0,o.jsx)(t.sl,{children:s?s.length>0&&(0,o.jsx)(m,{data:s,click:e=>{l("/agent-details",{state:e})}}):(0,o.jsx)(o.Fragment,{children:e})})]})})}}}]);
//# sourceMappingURL=9371.76550406.chunk.js.map