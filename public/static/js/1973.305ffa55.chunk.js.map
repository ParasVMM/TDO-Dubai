{"version":3,"file":"static/js/1973.305ffa55.chunk.js","mappings":"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","sources":["views/dashboard/AdminShowStatsByDate.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {getCookieValue, ipAddress, tokenName} from \"../../utils/Common\";\nimport axios from \"axios\";\nimport {CButton, CCard, CCardBody, CCardHeader} from \"@coreui/react\";\nimport CountUp from \"react-countup\";\nimport Table from \"react-bootstrap/Table\";\nimport Button from \"react-bootstrap/Button\";\nimport {exportToExcel} from \"../../utils/Common\";\n\nimport NoData from \"../../assets/images/no-data.png\";\n\n\nfunction AdminShowStatsByDate() {\n  const [stats, setStats] = useState([]);\n\n  const [showData, setShowData] = useState(false);\n\n  let [loader, setLoader] = useState(true)\n\n  useEffect(() => {\n    adminShowStats();\n  }, []);\n\n  function adminShowStats() {\n    let token = getCookieValue(tokenName);\n\n    // console.log(token)\n    axios.get(ipAddress + \"admin/viewInsurances\", {\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content_Type': 'application-json',\n      }\n    })\n      .then((response) => {\n        console.log(response);\n        setStats(response.data.recordset);\n        localStorage.setItem(\"searchByEmail\", JSON.stringify(response.data.recordset));\n        setLoader(false)\n      }).catch(e => {\n      console.log(e)\n      setLoader(false)\n    })\n  }\n\n  function showSearchResultByDate() {\n    var sbd = document.getElementById(\"startBookingDate\").value;\n    var ebd = document.getElementById(\"endBookingDate\").value;\n\n    const recordset = JSON.parse(localStorage.getItem(\"searchByEmail\"));\n\n    const filteredBookings = recordset.filter(booking => {\n      const bookingDate = booking.bookingDate.split('T')[0]; // Extract YYYY-MM-DD from the ISO string\n      return bookingDate >= sbd && bookingDate <= ebd;\n    });\n\n    if (filteredBookings == \"\") {\n      setShowData(true);\n    } else {\n      setShowData(false);\n      setStats(filteredBookings);\n    }\n\n\n  }\n\n  return (\n    <>\n      {\n        loader ?\n          <div>\n            <span className=\"spinner-border text-primary\"></span>\n          </div>\n          :\n          <>\n            <CCard className=\"mb-4\">\n              <CCardBody>\n                <CCardHeader>\n                  <div style={{display: 'flex', justifyContent: 'space-between'}}>\n                    <div style={{flex: 1}}>\n                      <strong><CountUp start={0} end={stats.length}/> Insurances</strong>\n                      <br/>\n\n\n                    </div>\n                    <div style={{marginLeft: '10px'}}>\n\n                      <CButton style={{\n                        backgroundColor: 'red',\n                        color: 'white',\n                        border: 'black',\n                        fontSize: '0.875rem',\n                        padding: '0.25rem 0.5rem'\n                      }} type='button'\n                               color=\"success\" onClick={() => exportToExcel('adminStats')}>Export To Excel</CButton>\n                    </div>\n                  </div>\n\n                  <br/>\n\n                  <div className=\"row\">\n\n                    <div className=\"col-sm-5\">\n                      <span>Start Booking Date</span>\n                      <input\n                        id=\"startBookingDate\"\n                        className=\"form-control\"\n                        type=\"date\"\n                      />\n                    </div>\n\n                    <div className=\"col-sm-5\">\n                      <span>End Booking Date</span>\n                      <input\n                        id=\"endBookingDate\"\n                        className=\"form-control\"\n                        type=\"date\"\n                      />\n                    </div>\n\n                    <div className=\"col-sm-2 text-center\">\n                      <br/>\n                      <Button variant=\"primary\" onClick={showSearchResultByDate}\n                              style={{fontSize: '18px', border: 'none'}}>\n                        Search\n                      </Button>\n                    </div>\n\n                  </div>\n\n                </CCardHeader>\n\n                {showData ?\n                  <div className=\"text-center\" style={{marginTop: '45px'}}>\n                    <img src={NoData} style={{\n                      backgroundRepeat: 'no-repeat',\n                      backgroundSize: '100% 100%',\n                      backgroundPosition: 'center',\n                      height: '100px',\n                      width: '100px'\n                    }}\n                    >\n                    </img>\n                    <h2 style={{color: 'red', marginTop: '20px'}}>No Data Fond for these Dates !!!</h2>\n                  </div>\n                  :\n                  <>\n                    <div style={{height: \"335px\"}} id=\"adminStats\" className=\"table-responsive\">\n\n                      <Table responsive hover>\n                        <thead style={{position: \"sticky\", top: 0}}>\n                        <tr>\n                          <th>SNO</th>\n                          <th>Insurance&nbsp;Vendor</th>\n                          <th>Booking&nbsp;Date</th>\n                          <th>Destination&nbsp;Country</th>\n                          <th>Agent&nbsp;Email</th>\n                          <th>Travel&nbsp;Start&nbsp;Date</th>\n                          <th>Travel&nbsp;End&nbsp;Date</th>\n                          <th>Passport&nbsp;Number</th>\n                          <th>Pax Name</th>\n                          <th>Date&nbsp;Of&nbsp;Birth</th>\n                          <th>PNR/TKT NO</th>\n                          <th>Ticket&nbsp;Fare</th>\n                          <th>Ticket&nbsp;Tax</th>\n                          <th>Insurance Plan Type</th>\n                          <th>Rate</th>\n                          <th>GST</th>\n                          <th>Total</th>\n                          <th>Net&nbsp;Price</th>\n                          <th>Market&nbsp;Expense&nbsp;Parted</th>\n                          <th>Marketing&nbsp;Expense&nbsp;Earned</th>\n                        </tr>\n                        </thead>\n\n                        <tbody>\n                        {stats?.length > 0 && stats.map((item, index) => (\n                          <tr key={index}>\n                            <td> {index + 1} </td>\n                            <td>Symbo</td>\n                            <td>{item.bookingDate.split(\"T\")[0]}</td>\n                            <td>{item.travellingTo}</td>\n                            <td>{item.agentEmail}</td>\n                            <td>{item.journeyStartDate.split(\"T\")[0]}</td>\n                            <td>{item.journeyEndDate.split(\"T\")[0]}</td>\n                            <td>{item.passportNo}</td>\n                            <td>{item.salutation} {item.firstName} {item.lastName}</td>\n                            <td className=\"text-right\">{item.dob}</td>\n                            <td>{item.ticketNo_Pnr}</td>\n                            <td>{item.ticketPrice}</td>\n                            <td>{item.ticketTax}</td>\n                            <td>{item.planType}</td>\n                            <td> -</td>\n                            <td>{item.insuranceTax}</td>\n                            <td>{item.amount}</td>\n                            <td>{item.amount}</td>\n                            <td> -</td>\n                            <td> -</td>\n                          </tr>\n                        ))\n                        }\n\n                        </tbody>\n\n                      </Table>\n\n                    </div>\n                  </>\n                }\n\n              </CCardBody>\n            </CCard>\n          </>\n      }\n    </>\n  )\n}\n\nexport default AdminShowStatsByDate\n"],"names":["stats","setStats","useState","showData","setShowData","loader","setLoader","useEffect","token","getCookieValue","tokenName","axios","get","ipAddress","headers","concat","then","response","console","log","data","recordset","localStorage","setItem","JSON","stringify","catch","e","adminShowStats","_jsx","_Fragment","children","className","CCard","_jsxs","CCardBody","CCardHeader","style","display","justifyContent","flex","CountUp","start","end","length","marginLeft","CButton","backgroundColor","color","border","fontSize","padding","type","onClick","exportToExcel","id","Button","variant","sbd","document","getElementById","value","ebd","filteredBookings","parse","getItem","filter","booking","bookingDate","split","marginTop","src","NoData","backgroundRepeat","backgroundSize","backgroundPosition","height","width","Table","responsive","hover","position","top","map","item","index","travellingTo","agentEmail","journeyStartDate","journeyEndDate","passportNo","salutation","firstName","lastName","dob","ticketNo_Pnr","ticketPrice","ticketTax","planType","insuranceTax","amount"],"sourceRoot":""}