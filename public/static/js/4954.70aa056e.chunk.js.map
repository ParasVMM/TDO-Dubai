{"version":3,"file":"static/js/4954.70aa056e.chunk.js","mappings":"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","sources":["views/dashboard/agents/FilterComponent.js","views/dashboard/flights/fixed-departure/cancellation/TableFlightBookings.js","views/dashboard/flights/fixed-departure/cancellation/TableFlightsData.js","views/dashboard/flights/fixed-departure/cancellation/CancellationQueue.js"],"sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\n\nconst Input = styled.input.attrs(props => ({\n  type: \"text\",\n  size: props.small ? 5 : undefined\n}))`\n  height: 32px;\n  width: 200px;\n  border-radius: 3px;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border: 1px solid #e5e5e5;\n  padding: 0 32px 0 16px;\n`;\n\nconst ClearButton = styled.button`\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  height: 34px;\n  width: 32px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst FilterComponent = ({ filterText, onFilter, onClear }) => (\n  <>\n    <Input\n      id=\"search\"\n      type=\"text\"\n      placeholder=\"Filter table data...\"\n      value={filterText}\n      onChange={onFilter}\n    />\n    <ClearButton className=\"bg-dark text-white\" onClick={onClear}>X</ClearButton>\n  </>\n);\n\nexport default FilterComponent;\n","import React, {useMemo, useState} from \"react\";\nimport DataTable from 'react-data-table-component';\nimport FilterComponent from \"../../../agents/FilterComponent\";\nimport {customStyles} from \"../../../../../utils/Common\";\n\nconst TableFlightsData = (props) => {\n  const columns = [\n    {\n      name: \"Details\",\n      button: true,\n      cell: row => <>\n        <button onClick={() => props.click(row.id)} className=\"btn btn-link\">\n          <i className=\"fa fa-eye\"></i>\n        </button>\n      </>,\n      width: '70px'\n    },\n    {\n      name: \"Id\",\n      selector: row => row.id,\n      sortable: true,\n      width: '80px'\n    },\n    {\n      name: \"Departure Date\",\n      selector: row => row.departureDate,\n      sortable: true,\n      width: '150px'\n    },\n    {\n      name: \"Trip Type\",\n      selector: row => row.tripType,\n      sortable: true,\n      width: '130px'\n    },\n    {\n      name: \"Origin / Destination\",\n      selector: row => row.origin + ' / ' + row.destination,\n      sortable: true,\n      width: '180px'\n    },\n    {\n      name: \"Requested By\",\n      selector: row => row.requestedBy,\n      sortable: true,\n      width: '200px'\n    },\n    {\n      name: \"Requested On\",\n      selector: row => row.requestedOn,\n      sortable: true,\n      width: '150px'\n    },\n    {\n      name: \"Status\",\n      selector: row => <b className=\"text-capitalize\">{row.status}</b>,\n      sortable: true\n    },\n    {\n      name: \"Total Ticket Price\",\n      selector: row => row.totalTicketPrice,\n      sortable: true,\n      width: '190px'\n    },\n    {\n      name: \"Total Refund Amount\",\n      selector: row => row.totalRefundAmount,\n      sortable: true,\n      width: '190px'\n    },\n  ];\n\n\n  const [filterText, setFilterText] = React.useState(\"\");\n  const [resetPaginationToggle, setResetPaginationToggle] = React.useState(false);\n\n  const filteredItems = props.data.filter(\n    item => JSON.stringify(item).toLowerCase().indexOf(filterText.toLowerCase()) !== -1\n  );\n\n  const subHeaderComponent = useMemo(() => {\n    const handleClear = () => {\n      if (filterText) {\n        setResetPaginationToggle(!resetPaginationToggle);\n        setFilterText(\"\");\n      }\n    };\n\n    return (\n      <>\n        <FilterComponent onFilter={e => setFilterText(e.target.value)} onClear={handleClear} filterText={filterText}/>\n      </>\n    );\n  }, [filterText, resetPaginationToggle]);\n\n  return (\n    <>\n      <DataTable\n        columns={columns}\n        data={filteredItems}\n        striped\n        pagination\n        subHeader\n        subHeaderComponent={subHeaderComponent}\n        customStyles={customStyles}\n      />\n    </>\n  )\n}\nexport default TableFlightsData;\n","import Modal from \"react-bootstrap/Modal\";\nimport React, {useMemo, useState} from \"react\";\nimport DataTable from 'react-data-table-component';\nimport FilterComponent from \"../../../agents/FilterComponent\";\nimport {customStyles} from \"../../../../../utils/Common\";\n\nconst TableFlightsData = (props) => {\n  const columns = [\n    {\n      name: \"Booking Id\",\n      selector: row => row.cancelId,\n      sortable: true,\n      width: '125px'\n    },\n    {\n      name: \"Flight No.\",\n      selector: row => row.flightNo,\n      sortable: true,\n      width: '120px'\n    },\n    // {\n    //   name: \"Agency Name\",\n    //   selector: row => row.agencyName,\n    //   sortable: true,\n    //   width: '140px'\n    // },\n    {\n      name: \"Airline\",\n      selector: row => row.airline,\n      sortable: true,\n      width: '100px'\n    },\n    // {\n    //   name: \"Ticketing Status\",\n    //   selector: row => row.ticketingStatus,\n    //   sortable: true,\n    //   width: '160px'\n    // },\n    {\n      name: \"Passenger Name\",\n      selector: row => row.passengerName,\n      sortable: true,\n      width: '160px'\n    },\n    {\n      name: \"Passenger Type\",\n      selector: row => row.passengerType,\n      sortable: true,\n      // width: '160px'\n    },\n    {\n      name: \"Sector\",\n      selector: row => row.sector,\n      sortable: true,\n      width: '150px'\n    },\n    {\n      name: \"Departure Date Time\",\n      selector: row => row.departureDate + ' ' + row.departureTime,\n      sortable: true,\n      width: '190px'\n    },\n    {\n      name: \"Arrival Date Time\",\n      selector: row => row.arrivalDate + ' ' + row.arrivalTime,\n      sortable: true,\n      width: '190px'\n    },\n    {\n      name: \"Booking DateTime\",\n      selector: row => row.bookingDateTime.split(\"T\")[0],\n      sortable: true,\n      width: '200px'\n    },\n  ];\n\n\n  const [filterText, setFilterText] = React.useState(\"\");\n  const [resetPaginationToggle, setResetPaginationToggle] = React.useState(false);\n\n  const filteredItems = props.data.filter(\n    item => JSON.stringify(item).toLowerCase().indexOf(filterText.toLowerCase()) !== -1\n  );\n\n  const subHeaderComponent = useMemo(() => {\n    const handleClear = () => {\n      if (filterText) {\n        setResetPaginationToggle(!resetPaginationToggle);\n        setFilterText(\"\");\n      }\n    };\n\n    return (\n      <>\n        <FilterComponent onFilter={e => setFilterText(e.target.value)} onClear={handleClear} filterText={filterText}/>\n      </>\n    );\n  }, [filterText, resetPaginationToggle]);\n\n  return (\n    <>\n      <DataTable\n        columns={columns}\n        data={filteredItems}\n        striped\n        pagination\n        subHeader\n        subHeaderComponent={subHeaderComponent}\n        customStyles={customStyles}\n      />\n    </>\n  )\n}\nexport default TableFlightsData;\n","import axios from \"axios\";\nimport Modal from \"react-bootstrap/Modal\";\nimport React, {useEffect, useState} from \"react\";\nimport {CCard, CCardHeader, CCardBody} from \"@coreui/react\";\nimport TableFlightBookings from \"./TableFlightBookings\";\nimport TableFlightBookingDetails from \"./TableFlightsData\";\nimport {errorToast, getCookieValue, ipAddress, tokenName} from \"../../../../../utils/Common\";\n\nconst CancellationQueue = () => {\n  const [flights, setFlights] = useState(null)\n\n  async function ReadFixedDeparture() {\n    try {\n      let token = getCookieValue(tokenName);\n      let url = ipAddress + \"admin/fixed-departure-cancellation\"\n\n      let res = await axios.get(url, {\n        headers: {'Authorization': `Bearer ${token}`}\n      })\n      // console.log(res)\n      // console.log(res.data)\n      // console.log(res.data.recordset)\n\n      if (res.status === 200 && res.data.error) {\n        setFlights([]);\n      } else if (res.status === 200 && !res.data.error) {\n        // console.log(res.data.recordset)\n        setFlights(res.data.recordset);\n      }\n    } catch (e) {\n      errorToast(e.message)\n    }\n  }\n\n  useEffect(() => {\n    ReadFixedDeparture().then();\n  }, []);\n\n  /* -------------------------------------------------- */\n\n  const [show, setShow] = useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n  const [flightDetails, setFlightDetails] = useState(null)\n\n  async function ReadFixedDepartureUserDetails(id) {\n    try {\n      let token = getCookieValue(tokenName);\n      let url = ipAddress + \"admin/fixed-departure-cancellation-details\"\n\n      let res = await axios.post(url, {id}, {\n        headers: {'Authorization': `Bearer ${token}`}\n      })\n      // console.log(res)\n      // console.log(res.data)\n      // console.log(res.data.recordset)\n\n      if (res.status === 200 && res.data.error) {\n        setFlightDetails([]);\n        errorToast(res.data.message)\n      } else if (res.status === 200 && !res.data.error) {\n        // console.log(res.data.recordset)\n        // console.log(res.data.recordset[0])\n        setFlightDetails(res.data.recordset);\n        handleShow();\n      }\n    } catch (e) {\n      errorToast(e.message)\n    }\n  }\n\n  return (\n    <>\n      <CCard>\n        <CCardHeader className=\"card-header-bg\">\n          <h4 className=\"mb-0 primary-color\">Cancellation Queue</h4>\n        </CCardHeader>\n        <CCardBody>\n          {/* Table - Fixed Departure Flights */}\n          {flights ? <TableFlightBookings data={flights} click={ReadFixedDepartureUserDetails}/> :\n          <div className=\"text-center\">\n            <i className=\"spinner spinner-border text-primary\"></i>\n          </div>}\n        </CCardBody>\n      </CCard>\n\n      {/* Booking Details */}\n      <Modal show={show} onHide={handleClose} centered fullscreen>\n        <Modal.Header closeButton>\n          <Modal.Title>Booking Details</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n         <TableFlightBookingDetails data={flightDetails}/>\n        </Modal.Body>\n      </Modal>\n    </>\n  )\n}\n\nexport default CancellationQueue;\n"],"names":["Input","styled","input","attrs","props","type","size","small","undefined","_templateObject","_taggedTemplateLiteral","ClearButton","button","_templateObject2","_ref","filterText","onFilter","onClear","_jsxs","_Fragment","children","_jsx","id","placeholder","value","onChange","className","onClick","columns","name","cell","row","click","width","selector","sortable","departureDate","tripType","origin","destination","requestedBy","requestedOn","status","totalTicketPrice","totalRefundAmount","setFilterText","React","resetPaginationToggle","setResetPaginationToggle","filteredItems","data","filter","item","JSON","stringify","toLowerCase","indexOf","subHeaderComponent","useMemo","FilterComponent","e","target","handleClear","DataTable","striped","pagination","subHeader","customStyles","cancelId","flightNo","airline","passengerName","passengerType","sector","departureTime","arrivalDate","arrivalTime","bookingDateTime","split","CancellationQueue","flights","setFlights","useState","useEffect","async","token","getCookieValue","tokenName","url","ipAddress","res","axios","get","headers","concat","error","recordset","errorToast","message","ReadFixedDeparture","then","show","setShow","flightDetails","setFlightDetails","CCard","CCardHeader","CCardBody","TableFlightBookings","post","Modal","onHide","handleClose","centered","fullscreen","Header","closeButton","Title","Body","TableFlightBookingDetails"],"sourceRoot":""}