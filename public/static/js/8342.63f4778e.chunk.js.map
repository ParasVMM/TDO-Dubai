{"version":3,"file":"static/js/8342.63f4778e.chunk.js","mappings":"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","sources":["views/dashboard/FlightCancelationQueue.js"],"sourcesContent":["import {CCard, CCardBody, CCardHeader} from \"@coreui/react\";\nimport Button from \"react-bootstrap/Button\";\nimport Table from \"react-bootstrap/Table\";\nimport React, {useEffect, useState} from \"react\";\nimport plus from \"../../assets/images/plus.png\";\nimport {errorToast, getCookieValue, ipAddress, successToast, tokenName} from \"../../utils/Common\";\nimport axios from \"axios\";\nimport '../../utils/Orange.css';\nimport NoData from \"../../assets/images/no-data.png\";\nimport {useForm} from \"react-hook-form\";\n\nconst FlightCancelationQueue = () => {\n  let [loader, setLoader] = useState(true)\n\n  const [showData, setShowData] = useState(false);\n\n  const [activeButton, setActiveButton] = useState('All');\n\n  let [pageCount, setPageCount] = useState(0);\n\n  let {register, handleSubmit, reset ,formState: {errors}} = useForm();\n\n  const handleButtonClick = (buttonName) => {\n    setActiveButton(buttonName === activeButton ? 'All' : buttonName);\n  };\n\n\n  const [expandedRows, setExpandedRows] = useState({});\n\n  const toggleExpand = (id) => {\n    setExpandedRows((prevState) => ({\n      ...prevState,\n      [id]: !prevState[id]\n    }));\n  };\n\n  const [stats, setStats] = useState([]);\n  useEffect(() => {\n    showFlightCancelationQueue();\n  }, []);\n\n\n  // By Default OnLoad Function\n  function showFlightCancelationQueue() {\n\n    let token = getCookieValue(tokenName);\n\n    // console.log(token)\n    axios.get(ipAddress + \"admin/cancelRequests\", {\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content_Type': 'application-json',\n      }\n    })\n      .then((response) => {\n        console.log(response);\n        setStats(response.data.recordset);\n\n        const bookingIdCounts = Object.values(response.data.recordset.reduce((acc, item) => {\n          const existingItem = acc.find(obj => obj.bookingId === item.bookingId);\n          if (existingItem) {\n            existingItem.count++;\n          } else {\n            acc.push({ bookingId: item.bookingId, count: 1 });\n          }\n          return acc;\n        }, []));\n\n        setPageCount(bookingIdCounts.length);\n\n        localStorage.setItem(\"cancelationQueue\", JSON.stringify(response.data.recordset));\n        setLoader(false)\n      }).catch(e => {\n      console.log(e)\n      setLoader(false)\n    })\n  }\n\n  function cancelRequest(Request_Type, API_Booking_Id, ticketIds) {\n    let token = getCookieValue(tokenName);\n    if (Request_Type === \"1\") {\n      axios.post(ipAddress + \"admin/setChangeFull\", {\n        apiBookingId: API_Booking_Id,\n        RequestType: Request_Type,\n        remarks: \"DEMO\"\n      }, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content_Type': 'application-json',\n        }\n      })\n        .then((response) => {\n          console.log(response);\n          if (response.data.error === false) {\n            successToast(\"Cancel Request Successfuly\");\n            showFlightCancelationQueue();\n          }\n        }).catch(e => {\n        console.log(e)\n      })\n    } else if (Request_Type === \"2\") {\n      const bookingIdsJSON = JSON.stringify(ticketIds);\n      // alert(\"API Booking ID \"+ API_Booking_Id + \" Ticket ID :  \"+bookingIdsJSON);\n      axios.post(ipAddress + \"admin/setChangePartial\", {\n        apiBookingId: API_Booking_Id,\n        RequestType: Request_Type,\n        remarks: \"DEMO\",\n        ticketId: ticketIds\n      }, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content_Type': 'application-json',\n        }\n      })\n        .then((response) => {\n          console.log(response);\n          if (response.data.error === false) {\n            successToast(\"Cancel Request Successfuly\");\n            showFlightCancelationQueue();\n          }\n        }).catch(e => {\n        console.log(e)\n      })\n    }\n\n  }\n\n  function checkStatus(changeRequestId, aoiBookingId) {\n\n      let token = getCookieValue(tokenName);\n      axios.post(ipAddress + \"admin/GetChangeRequestStatus\", {\n        changeRequestId: changeRequestId,\n        apiBookingId: aoiBookingId\n      }, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content_Type': 'application-json',\n        }\n      })\n        .then((response) => {\n          console.log(response);\n          if (response.data.error === false) {\n            successToast(\"Status Updated Successfuly\");\n            showFlightCancelationQueue();\n          } else {\n            errorToast(\"Error While Updating Status\")\n          }\n        }).catch(e => {\n        console.log(e)\n      })\n\n  }\n\n\n  function typedSearching(Params) {\n    var APIBookingId = Params.APIBookingID;\n    var TicketId = Params.TicketId;\n    var RequestOn = Params.RequestOn;\n    var PersonName = Params.PersonName;\n\n    const recordset = JSON.parse(localStorage.getItem(\"cancelationQueue\"));\n\n    // if(Params)\n    // {\n      const filtered = recordset.filter(obj => obj.aoiBookingId.includes(APIBookingId) && obj.ticketId.includes(TicketId) && ( obj.firstName.toLowerCase().includes(PersonName.toLowerCase()) || obj.lastName.toLowerCase().includes(PersonName.toLowerCase())) && obj.requestOn.includes(RequestOn));\n      if (filtered == \"\") {\n        setShowData(true);\n      } else {\n        setShowData(false);\n        setStats(filtered);\n      }\n\n    // }else{\n    //   setStats(recordset);\n    // }\n\n  }\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const itemsPerPage = 6;\n\n  const totalPages = Math.ceil(pageCount / itemsPerPage);\n  const pageLimit = 5; // Set the limit of displayed page buttons\n\n  const handleClick = (number) => {\n    setCurrentPage(number);\n  };\n\n  const handleNextPage = () => {\n    setCurrentPage((prevPage) => Math.min(prevPage + 1, totalPages));\n  };\n\n  const handlePrevPage = () => {\n    setCurrentPage((prevPage) => Math.max(prevPage - 1, 1));\n  };\n\n  // Calculate the range of page numbers to display\n  const pageNumbers = [];\n  const maxButtonsToShow = 5;\n\n  let startPage = currentPage - Math.floor(maxButtonsToShow / 2);\n  startPage = Math.max(1, startPage);\n\n  let endPage = startPage + maxButtonsToShow - 1;\n  endPage = Math.min(totalPages, endPage);\n\n  if (endPage - startPage + 1 < maxButtonsToShow) {\n    // Adjust startPage when there are not enough buttons to display\n    startPage = Math.max(1, endPage - maxButtonsToShow + 1);\n  }\n\n  for (let i = startPage; i <= endPage; i++) {\n    pageNumbers.push(i);\n  }\n\n  return (\n\n    <>\n      {\n        loader ?\n          <div>\n            <span className=\"spinner-border text-primary\"></span>\n          </div>\n          :\n          <>\n            <CCard className=\"mb-4\">\n              <CCardBody>\n                <CCardHeader style={{marginBottom: \"23px\"}}>\n                  <div className=\"row\">\n                    <div className=\"col-sm-12 text-center\">\n                      <h2><b>All Cancelations</b></h2>\n                    </div>\n\n                  </div>\n\n                  <form onSubmit={handleSubmit(typedSearching)}>\n                  <div className=\"row\" style={{marginBottom: \"0px\"}}>\n                    <div className=\"col-sm-3\">\n                      <span>API Booinkg ID</span>\n                      <input\n                        {...register('APIBookingID')}\n                        className=\"form-control\"\n                        type=\"text\"\n                        placeholder=\"API Booinkg ID\"\n                      />\n                    </div>\n\n                    <div className=\"col-sm-3\">\n                      <span>Ticket ID</span>\n                      <input\n                        {...register('TicketId')}\n                        className=\"form-control\"\n                        type=\"text\"\n                        placeholder=\"Ticket ID\"\n                      />\n                    </div>\n\n                    <div className=\"col-sm-3\">\n                      <span>Request On</span>\n                      <input\n                        {...register('RequestOn')}\n                        id=\"fromdate\"\n                        className=\"form-control\"\n                        type=\"date\"\n                      />\n                    </div>\n\n                    <div className=\"col-sm-3\">\n                      <span>PAX Name</span>\n                      <input\n                        {...register('PersonName')}\n                        id=\"fromdate\"\n                        className=\"form-control\"\n                        type=\"text\"\n                        placeholder=\"PAX Name\"\n                      />\n                    </div>\n\n                  </div>\n                  <div className=\"row\" style={{marginBottom: \"10px\"}}>\n\n                    <div className=\"col-sm-2 offset-5\">\n                      <span style={{visibility: \"hidden\"}}>DEMO</span>\n                      <Button variant=\"primary\" type=\"submit\" className=\"w-100\" >\n                        Search\n                      </Button>\n                    </div>\n\n                  </div>\n                  </form>\n\n                </CCardHeader>\n\n\n                <div className=\"row\" style={{marginBottom: \"10px\"}} >\n                  <div className=\"col-sm-3\">\n                    <Button\n                      variant={activeButton === 'Pending' ? 'primary' : 'secondary'}\n                      className=\"w-100\"\n                      onClick={() => handleButtonClick('Pending')}\n                    >\n                      Pending\n                    </Button>\n                  </div>\n\n                  <div className=\"col-sm-3\">\n                    <Button\n                      variant={activeButton === 'In Progress' ? 'primary' : 'secondary'}\n                      className=\"w-100\"\n                      onClick={() => handleButtonClick('In Progress')}\n                    >\n                      In Progress\n                    </Button>\n                  </div>\n\n                  <div className=\"col-sm-3\">\n                    <Button\n                      variant={activeButton === 'Success' ? 'primary' : 'secondary'}\n                      className=\"w-100\"\n                      onClick={() => handleButtonClick('Success')}\n                    >\n                      Success\n                    </Button>\n                  </div>\n\n                  <div className=\"col-sm-3\">\n                    <Button\n                      variant={activeButton === 'All' ? 'primary' : 'secondary'}\n                      className=\"w-100\"\n                      onClick={() => handleButtonClick('All')}\n                    >\n                      All\n                    </Button>\n                  </div>\n\n                </div>\n\n                {\n                  showData ?\n                    <div className=\"text-center\" style={{marginTop: '45px'}}>\n                      <img src={NoData} style={{\n                        backgroundRepeat: 'no-repeat',\n                        backgroundSize: '100% 100%',\n                        backgroundPosition: 'center',\n                        height: '100px',\n                        width: '100px'\n                      }}\n                      >\n                      </img>\n                      <h2 style={{color: 'red', marginTop: '20px'}}>No Data Fond !!!</h2>\n                    </div>\n                    :\n                    <>\n                      <div style={{height: \"335px\"}} id=\"adminStats\" className=\"table-responsive\">\n                        <Table responsive hover>\n                          <thead style={{position: \"sticky\", top: 0}}>\n                          <tr>\n                            <th>Booking&nbsp;ID</th>\n                            <th>API&nbsp;ID</th>\n                            <th className=\"text-center\">Requested&nbsp;By</th>\n                            <th className=\"text-center\">Rquested&nbsp;On</th>\n                            <th>Cancelation&nbsp;Status</th>\n                            <th>Request Type</th>\n                            <th style={{textAlign: \"center\"}}>Action</th>\n                          </tr>\n                          </thead>\n\n                          <tbody>\n                          {stats?.length > 0 && Object.values(\n                            stats.reduce((acc, item) => {\n                              if (!acc[item.bookingId]) {\n                                acc[item.bookingId] = [];\n                              }\n                              acc[item.bookingId].push(item);\n                              return acc;\n                            }, {})\n                          ).reverse().slice((currentPage - 1) * itemsPerPage, currentPage * itemsPerPage).map((group, index) => (\n\n                            (activeButton === 'All' || (activeButton === 'In Progress' && group[0].status === 'In Progress') || (activeButton === 'Pending' && group[0].status === 'pending') || (activeButton === 'Success' && group[0].status === 'cancelled')) && (\n                              <React.Fragment key={index}>\n                                <tr>\n                                  <td className=\"expandable name\" style={{color: \"blue\", fontSize: \"15px\"}}\n                                      onClick={() => toggleExpand(group[0].bookingId)}>\n                                    <img src={plus} alt=\"Icon\"/>\n                                    &nbsp;\n                                    {group[0].bookingId}\n                                  </td>\n\n                                  <td style={{fontSize: \"15px\"}} className=\"text-center\">{group[0].aoiBookingId}</td>\n                                  <td style={{fontSize: \"15px\"}}>{group[0].requestedBy}</td>\n                                  <td style={{fontSize: \"15px\"}}\n                                      className=\"text-center\">{group[0].requestOn.split(\"T\")[0]}</td>\n                                  <td style={{fontSize: \"15px\"}} className=\"text-center\">\n        <span\n          className={`badge ms-auto ${group[0].status === \"pending\" ? 'bg-orange' : group[0].status === \"In Progress\" ? 'bg-warning' : group[0].status === \"cancelled\" ? 'bg-success' : 'br-danger'}`}\n        >\n          {group[0].status}\n        </span>\n                                  </td>\n\n                                  <td style={{fontSize: \"15px\"}}>\n                                    {group[0].requestType === \"1\" ? \"Full Cancellation\" : group[0].requestType === \"2\" ? \"Partial Cancellation\" : \"\"}\n                                  </td>\n\n                                  <td style={{textAlign: \"center\"}}>\n                                    {\n                                      group[0].status === \"pending\" ?\n                                        <Button className=\"btn btn-sm\" variant=\"danger\"\n                                                onClick={(e) => cancelRequest(group[0].requestType, group[0].aoiBookingId, group.map(item => item.ticketId))}\n                                                style={{color: \"white\"}}>\n                                          Cancel\n                                        </Button>\n                                        :\n                                        <Button className=\"btn btn-xs\" variant=\"primary\"\n                                                onClick={(e) => checkStatus(group.map(item => item.changeRequestId), group[0].aoiBookingId)}\n                                                style={{color: \"white\"}}>\n                                          <b> Check Status</b>\n                                        </Button>\n                                    }\n\n                                  </td>\n\n                                </tr>\n\n                                {expandedRows[group[0].bookingId] &&\n                                  group.map((item, idx) => (\n\n                                    <tr key={`expandedRow-${item.bookingId}-${idx}`}>\n                                      <td colSpan=\"7\" style={{paddingLeft: \"90px\"}} className=\"gray-row\">\n                                        <div className=\"row\">\n\n                                          <div className=\"col-sm-2\">\n                                            <b>Name :</b> {item.firstName} {item.lastName}\n                                          </div>\n\n                                          <div className=\"col-sm-2\">\n                                            <b>Paxtype:</b> {item.paxType === \"1\" ? \"Adult\" : item.paxType === \"2\" ? \"Child\" : item.paxType === \"3\" ? \"Infant\" : \"\"}\n                                          </div>\n                                          <div className=\"col-sm-2\">\n                                            <b>Ticket Amt.</b> {item.totalTicketPrice}\n                                          </div>\n                                          {\n                                            group[0].status === \"pending\" ?\n                                              <div></div> :\n                                              <>\n                                                <div className=\"col-sm-2\">\n                                                  <b>Request Status :</b> {item.changeRequestStatus}\n                                                </div>\n                                                <div className=\"col-sm-2\">\n                                                  <b>Request ID :</b> {item.changeRequestId}\n                                                </div>\n                                                <div className=\"col-sm-2\">\n                                                  <b>Ticket ID :</b> {item.ticketId}\n                                                </div>\n                                                {/*<div className=\"col-sm-2\">*/}\n                                                {/*  <Button className=\"btn btn-sm\" variant=\"primary\"*/}\n                                                {/*          onClick={(e) => checkStatus(item.changeRequestId, group[0].aoiBookingId)}*/}\n                                                {/*          style={{color: \"white\"}}>*/}\n                                                {/*    Check Status*/}\n                                                {/*  </Button>*/}\n                                                {/*</div>*/}\n                                              </>\n                                          }\n\n                                        </div>\n                                      </td>\n                                    </tr>\n                                  ))}\n\n\n                              </React.Fragment>\n                            )\n                          ))}\n\n\n                          </tbody>\n\n                        </Table>\n\n                      </div>\n\n                      <div className=\"text-center\">\n                        <button className=\"btn btn-sm me-2\" style={{fontSize: '18px', border: 'none'}}\n                                onClick={handlePrevPage}\n                                disabled={currentPage === 1}>\n                          &laquo;\n                        </button>\n\n                        {pageNumbers.map((number) => (\n                          <button key={number}\n                                  className={`btn btn-sm ${currentPage === number ? 'btn-primary' : 'btn-light'}`}\n                                  onClick={() => handleClick(number)}>\n                            {number}\n                          </button>\n                        ))}\n\n                        <button className=\"btn btn-sm ms-2\" style={{fontSize: '18px', border: 'none'}}\n                                onClick={handleNextPage}\n                                disabled={currentPage === totalPages}>\n                          &raquo;\n                          {/*<cilArrowRight/>*/}\n                        </button>\n                      </div>\n\n                    </>\n\n                }\n\n              </CCardBody>\n            </CCard>\n          </>\n      }\n    </>\n  )\n}\n\nexport default FlightCancelationQueue\n\n"],"names":["FlightCancelationQueue","loader","setLoader","useState","showData","setShowData","activeButton","setActiveButton","pageCount","setPageCount","register","handleSubmit","reset","formState","errors","useForm","handleButtonClick","buttonName","expandedRows","setExpandedRows","stats","setStats","showFlightCancelationQueue","token","getCookieValue","tokenName","axios","get","ipAddress","headers","concat","then","response","console","log","data","recordset","bookingIdCounts","Object","values","reduce","acc","item","existingItem","find","obj","bookingId","count","push","length","localStorage","setItem","JSON","stringify","catch","e","useEffect","currentPage","setCurrentPage","totalPages","Math","ceil","pageNumbers","startPage","floor","maxButtonsToShow","max","endPage","min","i","_jsx","_Fragment","children","className","CCard","_jsxs","CCardBody","CCardHeader","style","marginBottom","onSubmit","Params","APIBookingId","APIBookingID","TicketId","RequestOn","PersonName","filtered","parse","getItem","filter","aoiBookingId","includes","ticketId","firstName","toLowerCase","lastName","requestOn","type","placeholder","id","visibility","Button","variant","onClick","marginTop","src","NoData","backgroundRepeat","backgroundSize","backgroundPosition","height","width","color","Table","responsive","hover","position","top","textAlign","reverse","slice","map","group","index","status","React","fontSize","toggleExpand","prevState","plus","alt","requestedBy","split","requestType","Request_Type","API_Booking_Id","ticketIds","post","apiBookingId","RequestType","remarks","error","successToast","cancelRequest","changeRequestId","errorToast","checkStatus","idx","colSpan","paddingLeft","paxType","totalTicketPrice","changeRequestStatus","border","handlePrevPage","prevPage","disabled","number","handleClick","handleNextPage"],"sourceRoot":""}