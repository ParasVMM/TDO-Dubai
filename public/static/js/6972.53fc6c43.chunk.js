"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[6972],{66972:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o});var l=a(72791),i=a(55294),d=a(78983),n=a(61134),t=a(81364),r=a(80184);const c=e=>{var s,a,c,o;let{agencyDetails:m,FetchAgency:h,FetchAgencyDetailsById:x}=e;const{register:u,handleSubmit:j,formState:{errors:v},reset:p}=(0,n.cI)(),[y,N]=(0,l.useState)(!1);return(0,r.jsxs)(d.xH,{className:"mb-4",children:[(0,r.jsx)(d.bn,{className:"bg-dark text-white",children:(0,r.jsx)("h4",{className:"mb-0",children:"Wallet Details"})}),(0,r.jsx)(d.sl,{children:(0,r.jsx)("div",{className:"row justify-content-center py-3",children:(0,r.jsx)("div",{className:"col-md-8 border border-light rounded p-2 shadow",children:(0,r.jsx)("form",{onSubmit:j((async function(e){e.id=m.Id,e.CompanyId=m.CompanyId,e.UserName=m.UserName;try{N(!0);let s=(0,t.Do)(t.vA),a=t.ys+"admin/";"0"===e.type?a+="updateAmountInWallet":a+="updateAmountInCreditLimit";let l=await i.Z.post(a,e,{headers:{Authorization:"Bearer ".concat(s)}});200===l.status&&(l.data.error?(0,t.Jc)(l.data.message):(p(),h(),(0,t.Qm)(l.data.message),x(m.Id))),N(!1)}catch(s){(0,t.Jc)(s.message),N(!1)}})),children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,r.jsxs)("label",{htmlFor:"type",children:["Type : ",(0,r.jsx)("span",{className:"text-danger",children:"*"})]}),(0,r.jsx)("select",{...u("type",{required:"This field is required."}),name:"type",id:"type",className:"form-select",children:"CASH"===(null===m||void 0===m?void 0:m.PaymentType)?(0,r.jsx)("option",{value:"0",children:"Deposit"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("option",{value:"",children:"--Please Select --"}),(0,r.jsx)("option",{value:"0",children:"Deposit"}),(0,r.jsx)("option",{value:"1",children:"Credit Limit"})]})}),(null===v||void 0===v?void 0:v.type)&&(0,r.jsx)("p",{className:"text-danger",children:null===v||void 0===v||null===(s=v.type)||void 0===s?void 0:s.message})]}),(0,r.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,r.jsxs)("label",{htmlFor:"action",children:["Action : ",(0,r.jsx)("span",{className:"text-danger",children:"*"})]}),(0,r.jsxs)("select",{...u("action",{required:"This field is required."}),name:"action",id:"action",className:"form-select",children:[(0,r.jsx)("option",{value:"",children:"--Please Select --"}),(0,r.jsx)("option",{value:"debit",children:"Debit"}),(0,r.jsx)("option",{value:"credit",children:"Credit"})]}),(null===v||void 0===v?void 0:v.action)&&(0,r.jsx)("p",{className:"text-danger",children:null===v||void 0===v||null===(a=v.action)||void 0===a?void 0:a.message})]}),(0,r.jsxs)("div",{className:"col-md-12 mb-3",children:[(0,r.jsxs)("label",{htmlFor:"amount",children:["Amount : ",(0,r.jsx)("span",{className:"text-danger",children:"*"})]}),(0,r.jsx)("input",{type:"text",name:"amount",id:"amount",className:"form-control",autoComplete:"off",...u("amount",{required:"This field is required.",pattern:{value:/^[0-9]*$/,message:"Only numbers are allowed."}})}),(null===v||void 0===v?void 0:v.amount)&&(0,r.jsx)("p",{className:"text-danger",children:null===v||void 0===v||null===(c=v.amount)||void 0===c?void 0:c.message})]}),(0,r.jsxs)("div",{className:"col-md-12 mb-3",children:[(0,r.jsxs)("label",{htmlFor:"remarks",children:["Remarks : ",(0,r.jsx)("span",{className:"text-danger",children:"*"})]}),(0,r.jsx)("textarea",{name:"remarks",id:"remarks",className:"form-control",...u("remarks",{required:"This field is required."})}),(null===v||void 0===v?void 0:v.remarks)&&(0,r.jsx)("p",{className:"text-danger",children:null===v||void 0===v||null===(o=v.remarks)||void 0===o?void 0:o.message})]}),(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsx)("button",{disabled:y,className:"btn btn-primary",children:"Update"})})]})})})})})]})},o=()=>{const[e,s]=(0,l.useState)(null),[a,n]=(0,l.useState)(null);async function o(){try{let e=(0,t.Do)(t.vA),a=t.ys+"admin/getCompanyName",l=await i.Z.get(a,{headers:{Authorization:"Bearer ".concat(e)}});200!==l.status||l.data.error||s(l.data.recordset)}catch(e){(0,t.Jc)(e.message)}}return(0,l.useEffect)((()=>{o().then()}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(d.xH,{className:"mb-4",children:[(0,r.jsx)(d.bn,{className:"bg-dark text-white",children:(0,r.jsx)("h4",{className:"mb-0",children:"Search"})}),(0,r.jsx)(d.sl,{children:(0,r.jsx)("div",{className:"row justify-content-center py-3",children:(0,r.jsxs)("div",{className:"col-md-6 border border-light rounded p-2 shadow",children:[(0,r.jsx)("label",{htmlFor:"agencyName",children:(0,r.jsxs)("b",{children:["Agency Name : ",(0,r.jsx)("span",{className:"text-danger",children:"*"})]})}),(0,r.jsxs)("select",{onChange:function(s){if(!s.target.value)return(0,t.Jc)("Please Select Agency"),n(null),!1;let a=s.target.value,l=e.filter((e=>e.Id===a))[0];n(l)},name:"agencyName",id:"agencyName",className:"form-select",children:[(0,r.jsx)("option",{value:"",children:"--Please Select --"}),e&&e.length>0&&e.map((e=>(0,r.jsxs)("option",{value:null===e||void 0===e?void 0:e.Id,children:[null===e||void 0===e?void 0:e.CompanyName," (",null===e||void 0===e?void 0:e.CompanyId,")"]},null===e||void 0===e?void 0:e.Id)))]})]})})})]}),a&&a.Id&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(d.xH,{className:"mb-4",children:[(0,r.jsx)(d.bn,{className:"bg-dark text-white",children:(0,r.jsx)("h4",{className:"mb-0",children:"Agency Details"})}),(0,r.jsx)(d.sl,{children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsxs)("p",{children:["Agency Name :",(0,r.jsx)("br",{}),(0,r.jsx)("b",{children:null===a||void 0===a?void 0:a.CompanyName})]})}),(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsxs)("p",{children:["Agency Id :",(0,r.jsx)("br",{}),(0,r.jsx)("b",{children:null===a||void 0===a?void 0:a.CompanyId})]})}),(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsxs)("p",{children:["Payment Type :",(0,r.jsx)("br",{}),(0,r.jsx)("b",{children:"BOTH"===(null===a||void 0===a?void 0:a.PaymentType)?"BOTH (Cash and Credit)":null===a||void 0===a?void 0:a.PaymentType})]})}),(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsxs)("p",{className:"mb-md-0",children:["Total Balance :",(0,r.jsx)("br",{}),(0,r.jsx)("b",{children:null===a||void 0===a?void 0:a.TotalBalance})]})}),(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsxs)("p",{className:"mb-md-0",children:["Credit Limit :",(0,r.jsx)("br",{}),(0,r.jsx)("b",{children:null===a||void 0===a?void 0:a.TotalCreditLimit})]})}),(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsxs)("p",{className:"mb-0",children:["Due Amount :",(0,r.jsx)("br",{}),(0,r.jsx)("b",{children:null===a||void 0===a?void 0:a.DueAmount})]})})]})})]}),(0,r.jsx)(c,{agencyDetails:a,FetchAgency:o,FetchAgencyDetailsById:async function(e){let s=(0,t.Do)(t.vA),a=t.ys+"admin/getCompanyDetailById",l=await i.Z.post(a,{id:e},{headers:{Authorization:"Bearer ".concat(s)}});200!==l.status||l.data.error||n(l.data.recordset[0])}})]})]})}}}]);
//# sourceMappingURL=6972.53fc6c43.chunk.js.map