"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[838],{838:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var s=n(72791),r=n(81364),i=n(55294),a=n(78983),l=n(40835),c=n(62591),d=n(76977),o=n(80184);const h=function(){const[e,t]=(0,s.useState)([]),[n,h]=(0,s.useState)(!1);let[x,j]=(0,s.useState)(!0);(0,s.useEffect)((()=>{!function(){let e=(0,r.Do)(r.vA);i.Z.get(r.ys+"admin/viewInsurances",{headers:{Authorization:"Bearer ".concat(e),Content_Type:"application-json"}}).then((e=>{console.log(e),t(e.data.recordset),localStorage.setItem("searchByEmail",JSON.stringify(e.data.recordset)),j(!1)})).catch((e=>{console.log(e),j(!1)}))}(),function(){let e=(0,r.Do)(r.vA);i.Z.get(r.ys+"admin/viewCountries",{headers:{Authorization:"Bearer ".concat(e),Content_Type:"application-json"}}).then((e=>{console.log(e.data.recordset),u(e.data.recordset)})).catch((e=>{console.log(e)}))}()}),[]);let[p,u]=(0,s.useState)([]);return(0,o.jsx)(o.Fragment,{children:x?(0,o.jsx)("div",{children:(0,o.jsx)("span",{className:"spinner-border text-primary"})}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(a.xH,{className:"mb-4",children:(0,o.jsxs)(a.sl,{children:[(0,o.jsxs)(a.bn,{children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,o.jsxs)("div",{style:{flex:1},children:[(0,o.jsxs)("strong",{children:[(0,o.jsx)(l.ZP,{start:0,end:e.length})," Insured Persons"]}),(0,o.jsx)("br",{})]}),(0,o.jsx)("div",{style:{marginLeft:"10px"},children:(0,o.jsx)(a.u5,{style:{backgroundColor:"red",color:"white",border:"black",fontSize:"0.875rem",padding:"0.25rem 0.5rem"},type:"button",color:"success",onClick:()=>(0,r.pq)("adminStats"),children:"Export To Excel"})})]}),(0,o.jsx)("br",{}),(0,o.jsx)("span",{children:"Search By Destination Country : "}),(0,o.jsxs)("select",{className:"form-control",onChange:e=>function(e){const n=JSON.parse(localStorage.getItem("searchByEmail")).filter((t=>t.travellingTo===e.toUpperCase()));""==n?h(!0):(h(!1),t(n))}(e.target.value),children:[(0,o.jsx)("option",{value:"",children:"Countries List"}),(null===p||void 0===p?void 0:p.length)>0&&p.map(((e,t)=>(0,o.jsx)("option",{value:e.name,children:e.Name},t)))]})]}),n?(0,o.jsxs)("div",{className:"text-center",style:{marginTop:"45px"},children:[(0,o.jsx)("img",{src:d,style:{backgroundRepeat:"no-repeat",backgroundSize:"100% 100%",backgroundPosition:"center",height:"100px",width:"100px"}}),(0,o.jsx)("h2",{style:{color:"red",marginTop:"20px"},children:"No Data Fond for these Country !!!"})]}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{style:{height:"335px"},id:"adminStats",className:"table-responsive",children:(0,o.jsxs)(c.Z,{responsive:!0,hover:!0,children:[(0,o.jsx)("thead",{style:{position:"sticky",top:0},children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"SNO"}),(0,o.jsx)("th",{children:"Insurance\xa0Vendor"}),(0,o.jsx)("th",{children:"Booking\xa0Date"}),(0,o.jsx)("th",{children:"Destination\xa0Country"}),(0,o.jsx)("th",{children:"Agent\xa0Email"}),(0,o.jsx)("th",{children:"Travel\xa0Start\xa0Date"}),(0,o.jsx)("th",{children:"Travel\xa0End\xa0Date"}),(0,o.jsx)("th",{children:"Passport\xa0Number"}),(0,o.jsx)("th",{children:"Pax Name"}),(0,o.jsx)("th",{children:"Date\xa0Of\xa0Birth"}),(0,o.jsx)("th",{children:"PNR/TKT NO"}),(0,o.jsx)("th",{children:"Ticket\xa0Fare"}),(0,o.jsx)("th",{children:"Ticket\xa0Tax"}),(0,o.jsx)("th",{children:"Insurance Plan Type"}),(0,o.jsx)("th",{children:"Rate"}),(0,o.jsx)("th",{children:"GST"}),(0,o.jsx)("th",{children:"Total"}),(0,o.jsx)("th",{children:"Net\xa0Price"}),(0,o.jsx)("th",{children:"Market\xa0Expense\xa0Parted"}),(0,o.jsx)("th",{children:"Marketing\xa0Expense\xa0Earned"})]})}),(0,o.jsx)("tbody",{children:(null===e||void 0===e?void 0:e.length)>0&&e.map(((e,t)=>(0,o.jsxs)("tr",{children:[(0,o.jsxs)("td",{children:[" ",t+1," "]}),(0,o.jsx)("td",{children:"Symbo"}),(0,o.jsx)("td",{children:e.bookingDate.split("T")[0]}),(0,o.jsx)("td",{children:e.travellingTo}),(0,o.jsx)("td",{children:e.agentEmail}),(0,o.jsx)("td",{children:e.journeyStartDate.split("T")[0]}),(0,o.jsx)("td",{children:e.journeyEndDate.split("T")[0]}),(0,o.jsx)("td",{children:e.passportNo}),(0,o.jsxs)("td",{children:[e.salutation," ",e.firstName," ",e.lastName]}),(0,o.jsx)("td",{className:"text-right",children:e.dob}),(0,o.jsx)("td",{children:e.ticketNo_Pnr}),(0,o.jsx)("td",{children:e.ticketPrice}),(0,o.jsx)("td",{children:e.ticketTax}),(0,o.jsx)("td",{children:e.planType}),(0,o.jsx)("td",{children:" -"}),(0,o.jsx)("td",{children:e.insuranceTax}),(0,o.jsx)("td",{children:e.amount}),(0,o.jsx)("td",{children:e.amount}),(0,o.jsx)("td",{children:" -"}),(0,o.jsx)("td",{children:" -"})]},t)))})]})})})]})})})})}},76977:(e,t,n)=>{e.exports=n.p+"static/media/no-data.75e9856fc1cd2b1cb243.png"}}]);
//# sourceMappingURL=838.a3aaae4a.chunk.js.map