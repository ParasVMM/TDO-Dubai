"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[8024],{37831:(e,t,a)=>{a.d(t,{Z:()=>c});var r,s,n=a(30168),o=(a(72791),a(49256)),i=a(80184);const l=o.default.input.attrs((e=>({type:"text",size:e.small?5:void 0})))(r||(r=(0,n.Z)(["\n  height: 32px;\n  width: 200px;\n  border-radius: 3px;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border: 1px solid #e5e5e5;\n  padding: 0 32px 0 16px;\n"]))),d=o.default.button(s||(s=(0,n.Z)(["\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  height: 34px;\n  width: 32px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),c=e=>{let{filterText:t,onFilter:a,onClear:r}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l,{id:"search",type:"text",placeholder:"Filter table data...",value:t,onChange:a}),(0,i.jsx)(d,{className:"bg-dark text-white",onClick:r,children:"X"})]})}},58024:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var r=a(55294),s=a(51910),n=a(72791),o=a(78983),i=a(96564),l=a(37831),d=a(81364),c=a(80184);const m=e=>{const t=[{name:"Details",button:!0,cell:t=>(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("button",{onClick:()=>e.click(t.id),className:"btn btn-link",children:(0,c.jsx)("i",{className:"fa fa-eye"})})}),width:"70px"},{name:"Booking Id",selector:e=>e.id,sortable:!0,width:"130px"},{name:"Airline",button:!0,cell:e=>(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("img",{src:"https://content.airhex.com/content/logos/airlines_".concat(e.airlineCode,"_60_50_s.png"),alt:""})}),width:"60px"},{name:"Supplier",selector:e=>e.supplier,sortable:!0,width:"110px"},{name:"PNR",selector:e=>e.pnr,sortable:!0},{name:"Ticket Id",selector:e=>e.ticketId,sortable:!0,width:"130px"},{name:"Agent",selector:e=>e.agentEmail,sortable:!0,width:"220px"},{name:"Booking Date",selector:e=>e.bookingDT,sortable:!0,width:"170px"},{name:"Booking Status",selector:e=>(0,c.jsx)("b",{children:e.bookingStatus}),sortable:!0,width:"150px"},{name:"Payment Status",selector:e=>(0,c.jsx)("b",{children:e.paymentStatus}),sortable:!0,width:"160px"},{name:"Payment Type",selector:e=>(0,c.jsx)("b",{className:"text-capitalize",children:e.paymentType}),sortable:!0,width:"160px"},{name:"Total Adult",selector:e=>e.totalAdult,sortable:!0,width:"130px"},{name:"Total Child",selector:e=>e.totalChild,sortable:!0,width:"130px"},{name:"Total Infant",selector:e=>e.totalInfant,sortable:!0,width:"130px"}],[a,r]=n.useState(""),[s,o]=n.useState(!1),m=e.data.filter((e=>-1!==JSON.stringify(e).toLowerCase().indexOf(a.toLowerCase()))),x=(0,n.useMemo)((()=>(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(l.Z,{onFilter:e=>r(e.target.value),onClear:()=>{a&&(o(!s),r(""))},filterText:a})})),[a,s]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(i.ZP,{columns:t,data:m,striped:!0,pagination:!0,subHeader:!0,subHeaderComponent:x,customStyles:d.X2})})},x=e=>{const[t,a]=n.useState(""),[r,s]=n.useState(!1),o=e.data.filter((e=>-1!==JSON.stringify(e).toLowerCase().indexOf(t.toLowerCase()))),m=(0,n.useMemo)((()=>(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(l.Z,{onFilter:e=>a(e.target.value),onClear:()=>{t&&(s(!r),a(""))},filterText:t})})),[t,r]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(i.ZP,{columns:[{name:"Id",selector:e=>e.id,sortable:!0,width:"80px"},{name:"Booking Id",selector:e=>e.bookId,sortable:!0,width:"125px"},{name:"Flight No.",selector:e=>e.flightNo,sortable:!0,width:"120px"},{name:"Agency Name",selector:e=>e.agencyName,sortable:!0,width:"140px"},{name:"Airline",selector:e=>e.airline,sortable:!0,width:"100px"},{name:"Ticketing Status",selector:e=>e.ticketingStatus,sortable:!0,width:"160px"},{name:"Passenger Name",selector:e=>e.passengerName,sortable:!0,width:"160px"},{name:"Passenger Type",selector:e=>e.passengerType,sortable:!0},{name:"Sector",selector:e=>e.sector,sortable:!0,width:"150px"},{name:"Departure Date Time",selector:e=>e.departureDate+" "+e.departureTime,sortable:!0,width:"190px"},{name:"Arrival Date Time",selector:e=>e.arrivalDate+" "+e.arrivalTime,sortable:!0,width:"190px"},{name:"Booking DateTime",selector:e=>e[""],sortable:!0,width:"200px"}],data:o,striped:!0,pagination:!0,subHeader:!0,subHeaderComponent:m,customStyles:d.X2})})},p=()=>{const[e,t]=(0,n.useState)(null);(0,n.useEffect)((()=>{(async function(){try{let e=(0,d.Do)(d.vA),a=d.ys+"admin/fixed-departure-booking",s=await r.Z.get(a,{headers:{Authorization:"Bearer ".concat(e)}});200===s.status&&s.data.error?t([]):200!==s.status||s.data.error||t(s.data.recordset)}catch(e){(0,d.Jc)(e.message)}})().then()}),[]);const[a,i]=(0,n.useState)(!1),[l,p]=(0,n.useState)(null);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(o.xH,{children:[(0,c.jsx)(o.bn,{className:"card-header-bg",children:(0,c.jsx)("h4",{className:"mb-0 primary-color",children:"Search Booking"})}),(0,c.jsx)(o.sl,{children:e&&(0,c.jsx)(m,{data:e,click:async function(e){try{let t=(0,d.Do)(d.vA),a=d.ys+"admin/fixed-departure-booking-details",s=await r.Z.post(a,{id:e},{headers:{Authorization:"Bearer ".concat(t)}});200===s.status&&s.data.error?(p([]),(0,d.Jc)(s.data.message)):200!==s.status||s.data.error||(p(s.data.recordset),i(!0))}catch(t){(0,d.Jc)(t.message)}}})})]}),(0,c.jsxs)(s.Z,{show:a,onHide:()=>i(!1),centered:!0,fullscreen:!0,children:[(0,c.jsx)(s.Z.Header,{closeButton:!0,children:(0,c.jsx)(s.Z.Title,{children:"Booking Details"})}),(0,c.jsx)(s.Z.Body,{children:(0,c.jsx)(x,{data:l})})]})]})}}}]);
//# sourceMappingURL=8024.2b81752b.chunk.js.map