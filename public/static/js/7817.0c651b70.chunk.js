"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[7817],{37831:(e,s,r)=>{r.d(s,{Z:()=>o});var l,a,n=r(30168),i=(r(72791),r(49256)),t=r(80184);const d=i.default.input.attrs((e=>({type:"text",size:e.small?5:void 0})))(l||(l=(0,n.Z)(["\n  height: 32px;\n  width: 200px;\n  border-radius: 3px;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border: 1px solid #e5e5e5;\n  padding: 0 32px 0 16px;\n"]))),c=i.default.button(a||(a=(0,n.Z)(["\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  height: 34px;\n  width: 32px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),o=e=>{let{filterText:s,onFilter:r,onClear:l}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d,{id:"search",type:"text",placeholder:"Filter table data...",value:s,onChange:r}),(0,t.jsx)(c,{className:"bg-dark text-white",onClick:l,children:"X"})]})}},15016:(e,s,r)=>{r.r(s),r.d(s,{default:()=>j});var l=r(78983),a=r(72791),n=r(11087),i=r(81364),t=r(55294),d=r(51910),c=r(96564),o=r(37831),x=r(80184);const p=e=>{const s=[{name:"",button:!0,cell:s=>(0,x.jsxs)("div",{children:[(0,x.jsx)("span",{onClick:()=>e.click(s),className:"cell-links text-primary fw-bold",children:"Edit"}),(0,x.jsx)("span",{onClick:()=>e.markupDeleteHandler(s.ID),className:"cell-links text-primary fw-bold mx-2",children:"Delete"}),(0,x.jsx)("span",{onClick:()=>e.showMarkupDetails(s),className:"cell-links text-primary fw-bold",children:"Details"})]})},{name:"Provider",selector:e=>e.Provider,sortable:!0},{name:"Agent Type",selector:e=>e.AgentType,sortable:!0},{name:"Agency",selector:e=>e.AgentId,sortable:!0},{name:"Trip Type",selector:e=>e.TripType,sortable:!0},{name:"Star Rating",selector:e=>e.Star,sortable:!0},{name:"Applied On",selector:e=>e.AppliedOn,sortable:!0},{name:"Markup Type",selector:e=>e.MarkupType,sortable:!0},{name:"Markup Amount",selector:e=>e.MarkupAmount,sortable:!0},{name:"Submit By",selector:e=>e.SubmitBy,sortable:!0}],[r,l]=a.useState(""),[n,i]=a.useState(!1),t=e.data.filter((e=>-1!==JSON.stringify(e).toLowerCase().indexOf(r.toLowerCase()))),d=(0,a.useMemo)((()=>(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(o.Z,{onFilter:e=>l(e.target.value),onClear:()=>{r&&(i(!n),l(""))},filterText:r})})),[r,n]);return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(c.ZP,{columns:s,data:t,striped:!0,pagination:!0,subHeader:!0,subHeaderComponent:d})})};var m=r(61134),h=r(75970);const u=e=>{let{detailEdit:s,ReadHotelMarkup:r}=e;const{register:l,handleSubmit:a,formState:{errors:n}}=(0,m.cI)({defaultValues:s});return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("form",{onSubmit:a((async function(e){try{let s=(0,i.Do)(i.vA),l=i.ys+"admin/hotel-markup/"+e.ID,a=await t.Z.put(l,e,{headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"}});200===a.status&&(a.data.error?(0,i.Jc)(a.data.message):((0,i.Qm)(a.data.message),r()))}catch(s){(0,i.Jc)(s.message)}})),children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-6 text-end",children:(0,x.jsx)("p",{children:"Trip Type:"})}),(0,x.jsx)("div",{className:"col-6",children:(0,x.jsx)("p",{children:null===s||void 0===s?void 0:s.TripType})}),(0,x.jsx)("div",{className:"col-6 text-end",children:(0,x.jsx)("p",{children:"Star Rating:"})}),(0,x.jsx)("div",{className:"col-6",children:(0,x.jsx)("p",{children:null===s||void 0===s?void 0:s.Star})}),(0,x.jsx)("div",{className:"col-6 text-end",children:(0,x.jsx)("p",{children:"Agent Id:"})}),(0,x.jsx)("div",{className:"col-6",children:(0,x.jsx)("p",{children:null===s||void 0===s?void 0:s.AgentId})}),(0,x.jsx)("div",{className:"col-6 text-end",children:(0,x.jsx)("p",{children:"Agent Type:"})}),(0,x.jsx)("div",{className:"col-6",children:(0,x.jsx)("p",{children:null===s||void 0===s?void 0:s.AgentType})}),(0,x.jsx)("div",{className:"col-6 text-end",children:(0,x.jsx)("p",{children:"Provider:"})}),(0,x.jsx)("div",{className:"col-6",children:(0,x.jsx)("p",{children:null===s||void 0===s?void 0:s.Provider})}),(0,x.jsx)("div",{className:"col-6 text-end",children:(0,x.jsx)("p",{children:"Markup Type:"})}),(0,x.jsxs)("div",{className:"col-6 mb-3",children:[(0,x.jsxs)("select",{name:"MarkupType",id:"MarkupType",className:"form-select",...l("MarkupType",{required:"This is required."}),children:[(0,x.jsx)("option",{value:"F",children:"Fixed"}),(0,x.jsx)("option",{value:"P",children:"Percentage"})]}),(0,x.jsx)(h.B,{errors:n,name:"MarkupType",render:e=>{let{message:s}=e;return(0,x.jsx)("p",{className:"text-danger",children:s})}})]}),(0,x.jsx)("div",{className:"col-6 text-end",children:(0,x.jsx)("p",{children:"Markup Amount:"})}),(0,x.jsxs)("div",{className:"col-6 mb-3",children:[(0,x.jsx)("input",{type:"text",className:"form-control",id:"MarkupAmount",name:"MarkupAmount",...l("MarkupAmount",{required:"This is required.",pattern:{value:/^[0-9]+$/,message:"Only numbers are allowed."}})}),(0,x.jsx)(h.B,{errors:n,name:"MarkupType",render:e=>{let{message:s}=e;return(0,x.jsx)("p",{className:"text-danger",children:s})}})]}),(0,x.jsx)("div",{className:"col-6 text-end",children:(0,x.jsx)("p",{children:"Applied On:"})}),(0,x.jsxs)("div",{className:"col-6 mb-3",children:[(0,x.jsxs)("select",{name:"AppliedOn",id:"AppliedOn",className:"form-select",...l("AppliedOn",{required:"This is required."}),children:[(0,x.jsx)("option",{value:"Total",children:"Total"}),(0,x.jsx)("option",{value:"PerRoom/PerNight",children:"Per Room/Per Night"})]}),(0,x.jsx)(h.B,{errors:n,name:"AppliedOn",render:e=>{let{message:s}=e;return(0,x.jsx)("p",{className:"text-danger",children:s})}})]}),(0,x.jsx)("div",{className:"col-6 text-end",children:(0,x.jsx)("p",{children:"Submit By:"})}),(0,x.jsx)("div",{className:"col-6",children:(0,x.jsx)("p",{children:null===s||void 0===s?void 0:s.SubmitBy})}),(0,x.jsx)("div",{className:"col-6 offset-6",children:(0,x.jsx)("button",{className:"btn btn-primary px-5",children:"Update"})})]})})})},j=()=>{const[e,s]=(0,a.useState)(null);async function r(){try{let e=(0,i.Do)(i.vA),r=i.ys+"admin/hotel-markup",l=await t.Z.get(r,{headers:{Authorization:"Bearer ".concat(e)}});200===l.status&&(l.data.error?(0,i.Jc)(l.data.message):s(l.data.recordset))}catch(e){(0,i.Jc)(e.message)}}(0,a.useEffect)((()=>{r().then()}),[]);const[c,o]=(0,a.useState)(!1),[m,h]=(0,a.useState)(null),[j,v]=(0,a.useState)(!1),[g,N]=(0,a.useState)(null);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(l.xH,{children:[(0,x.jsx)(l.bn,{className:"card-header-bg",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-8",children:(0,x.jsx)("h4",{className:"mb-0 primary-color",children:"Hotel Markup"})}),(0,x.jsx)("div",{className:"col-md-4 text-md-end",children:(0,x.jsxs)(n.rU,{to:"/create-hotel-markup",className:"btn btn-primary",children:[(0,x.jsx)("i",{className:"fa fa-plus"})," Create Markup"]})})]})}),(0,x.jsx)(l.sl,{children:e?e.length>0&&(0,x.jsx)(p,{data:e,click:e=>{h(e),o(!0)},showMarkupDetails:e=>{N(e),v(!0)},markupDeleteHandler:async e=>{if(confirm("Are you sure?"))try{let s=(0,i.Do)(i.vA),l=i.ys+"admin/hotel-markup/"+e,a=await t.Z.delete(l,{headers:{Authorization:"Bearer ".concat(s)}});200===a.status&&(a.data.error?(0,i.Jc)(a.data.message):((0,i.Qm)(a.data.message),r().then()))}catch(s){(0,i.Jc)(s.message)}}}):(0,x.jsx)("div",{className:"text-center",children:(0,x.jsx)("i",{className:"spinner spinner-border"})})})]}),(0,x.jsxs)(d.Z,{show:j,onHide:()=>v(!1),centered:!0,scrollable:!0,size:"lg",children:[(0,x.jsx)(d.Z.Header,{closeButton:!0,children:(0,x.jsx)(d.Z.Title,{children:"Markup Details"})}),(0,x.jsx)(d.Z.Body,{children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-6 text-end",children:(0,x.jsx)("p",{children:"Trip Type:"})}),(0,x.jsx)("div",{className:"col-6",children:(0,x.jsx)("p",{children:null===g||void 0===g?void 0:g.TripType})}),(0,x.jsx)("div",{className:"col-6 text-end",children:(0,x.jsx)("p",{children:"Star Rating:"})}),(0,x.jsx)("div",{className:"col-6",children:(0,x.jsx)("p",{children:null===g||void 0===g?void 0:g.Star})}),(0,x.jsx)("div",{className:"col-6 text-end",children:(0,x.jsx)("p",{children:"Markup Type:"})}),(0,x.jsx)("div",{className:"col-6",children:(0,x.jsx)("p",{children:"F"===(null===g||void 0===g?void 0:g.MarkupType)?"Fixed":"Percentage"})}),(0,x.jsx)("div",{className:"col-6 text-end",children:(0,x.jsx)("p",{children:"Markup Amount:"})}),(0,x.jsx)("div",{className:"col-6",children:(0,x.jsx)("p",{children:null===g||void 0===g?void 0:g.MarkupAmount})}),(0,x.jsx)("div",{className:"col-6 text-end",children:(0,x.jsx)("p",{children:"Agent Id:"})}),(0,x.jsx)("div",{className:"col-6",children:(0,x.jsx)("p",{children:null===g||void 0===g?void 0:g.AgentId})}),(0,x.jsx)("div",{className:"col-6 text-end",children:(0,x.jsx)("p",{children:"Agent Type:"})}),(0,x.jsx)("div",{className:"col-6",children:(0,x.jsx)("p",{children:null===g||void 0===g?void 0:g.AgentType})}),(0,x.jsx)("div",{className:"col-6 text-end",children:(0,x.jsx)("p",{children:"Provider:"})}),(0,x.jsx)("div",{className:"col-6",children:(0,x.jsx)("p",{children:null===g||void 0===g?void 0:g.Provider})}),(0,x.jsx)("div",{className:"col-6 text-end",children:(0,x.jsx)("p",{children:"Applied On:"})}),(0,x.jsx)("div",{className:"col-6",children:(0,x.jsx)("p",{children:null===g||void 0===g?void 0:g.AppliedOn})}),(0,x.jsx)("div",{className:"col-6 text-end",children:(0,x.jsx)("p",{children:"Submit By:"})}),(0,x.jsx)("div",{className:"col-6",children:(0,x.jsx)("p",{children:null===g||void 0===g?void 0:g.SubmitBy})}),(0,x.jsx)("div",{className:"col-6 text-end",children:(0,x.jsx)("p",{children:"Create Date:"})}),(0,x.jsx)("div",{className:"col-6",children:(0,x.jsx)("p",{children:null===g||void 0===g?void 0:g.SubmitDate})}),(0,x.jsx)("div",{className:"col-6 text-end",children:(0,x.jsx)("p",{className:"mb-0",children:"Update Date:"})}),(0,x.jsx)("div",{className:"col-6",children:(0,x.jsx)("p",{children:null===g||void 0===g?void 0:g.UpdateDate})})]})})]}),(0,x.jsxs)(d.Z,{show:c,onHide:()=>o(!1),centered:!0,scrollable:!0,size:"lg",children:[(0,x.jsx)(d.Z.Header,{closeButton:!0,children:(0,x.jsx)(d.Z.Title,{children:"Edit Markup"})}),(0,x.jsx)(d.Z.Body,{children:(0,x.jsx)(u,{detailEdit:m,ReadHotelMarkup:r})})]})]})}},75970:(e,s,r)=>{r.d(s,{B:()=>n});var l=r(72791),a=r(61134),n=function(e){var s=e.as,r=e.errors,n=e.name,i=e.message,t=e.render,d=function(e,s){if(null==e)return{};var r,l,a={},n=Object.keys(e);for(l=0;l<n.length;l++)s.indexOf(r=n[l])>=0||(a[r]=e[r]);return a}(e,["as","errors","name","message","render"]),c=(0,a.Gc)(),o=(0,a.U2)(r||c.formState.errors,n);if(!o)return null;var x=o.message,p=o.types,m=Object.assign({},d,{children:x||i});return l.isValidElement(s)?l.cloneElement(s,m):t?t({message:x||i,messages:p}):l.createElement(s||l.Fragment,m)}}}]);
//# sourceMappingURL=7817.0c651b70.chunk.js.map