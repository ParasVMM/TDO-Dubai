{"version":3,"file":"static/js/6051.88624f8e.chunk.js","mappings":"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","sources":["views/dashboard/AdminShowStats.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {getCookieValue, ipAddress, tokenName} from \"../../utils/Common\";\nimport axios from \"axios\";\nimport {CButton, CCard, CCardBody, CCardHeader} from \"@coreui/react\";\nimport CountUp from \"react-countup\";\nimport Table from \"react-bootstrap/Table\";\nimport Button from \"react-bootstrap/Button\";\nimport {exportToExcel} from \"../../utils/Common\";\n\nfunction AdminShowStats() {\n  const [stats, setStats] = useState([]);\n\n  useEffect(() => {\n    adminShowStats();\n  }, []);\n\n  function adminShowStats() {\n    let token = getCookieValue(tokenName);\n\n    // console.log(token)\n    axios.get(ipAddress + \"admin/viewInsurances\", {\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content_Type': 'application-json',\n      }\n    })\n      .then((response) => {\n        console.log(response);\n        setStats(response.data.recordset);\n        localStorage.setItem(\"searchByEmail\", JSON.stringify(response.data.recordset));\n      }).catch(e => {\n      console.log(e)\n    })\n  }\n\n  function showSearchResult(typedword) {\n    const recordset = JSON.parse(localStorage.getItem(\"searchByEmail\"));\n    if (typedword) {\n      const filtered = recordset.filter(agent => agent.agentEmail.toLowerCase().includes(typedword.toLowerCase()));\n      setStats(filtered);\n    } else {\n      setStats(recordset);\n    }\n  }\n\n  return(\n    <>\n      <CCard className=\"mb-4\">\n        <CCardBody>\n          <CCardHeader>\n            <div style={{display: 'flex', justifyContent: 'space-between'}}>\n              <div style={{flex: 1}}>\n                <strong><CountUp start={0} end={stats.length}/> Insurances</strong>\n                <br/>\n\n\n              </div>\n              <div style={{marginLeft: '10px'}}>\n\n                <CButton style={{\n                  backgroundColor: 'red',\n                  color: 'white',\n                  border: 'black',\n                  fontSize: '0.875rem',\n                  padding: '0.25rem 0.5rem'\n                }} type='button'\n                         color=\"success\" onClick={() => exportToExcel('adminStats')}>Export To Excel</CButton>\n              </div>\n            </div>\n\n            <br/>\n            <span>Search By Agent Email :</span>\n            <input\n              className=\"form-control\"\n              type=\"text\"\n              onKeyUp={(e) => showSearchResult(e.target.value)}\n            />\n\n          </CCardHeader>\n\n          <div style={{height: \"335px\"}} id=\"adminStats\" className=\"table-responsive\">\n            <Table responsive hover>\n              <thead style={{position: \"sticky\", top: 0}}>\n              <tr>\n              <th>SNO</th>\n                <th>Insurance&nbsp;Vendor</th>\n                <th>Booking&nbsp;Date</th>\n                <th>Destination&nbsp;Country</th>\n                <th>Agent&nbsp;Email</th>\n                <th>Travel&nbsp;Start&nbsp;Date</th>\n                <th>Travel&nbsp;End&nbsp;Date</th>\n                <th>Passport&nbsp;Number</th>\n                <th>Pax Name</th>\n                <th>Date&nbsp;Of&nbsp;Birth</th>\n                <th>PNR/TKT NO</th>\n                <th>Ticket&nbsp;Fare</th>\n                <th>Ticket&nbsp;Tax</th>\n                <th>Insurance Plan Type</th>\n                <th>Rate</th>\n                <th>GST</th>\n                <th>Total</th>\n                <th>Net&nbsp;Price</th>\n                <th>Market&nbsp;Expense&nbsp;Parted</th>\n                <th>Marketing&nbsp;Expense&nbsp;Earned</th>\n              </tr>\n              </thead>\n\n              <tbody>\n              {stats?.length > 0 && stats.map((item, index) => (\n                <tr key={index}>\n                  <td> {index+1} </td>\n                  <td>Symbo</td>\n                  <td>{item.bookingDate.split(\"T\")[0]}</td>\n                  <td>{item.travellingTo}</td>\n                  <td>{item.agentEmail}</td>\n                  <td>{item.journeyStartDate.split(\"T\")[0]}</td>\n                  <td>{item.journeyEndDate.split(\"T\")[0]}</td>\n                  <td>{item.passportNo}</td>\n                  <td>{item.salutation} {item.firstName} {item.lastName}</td>\n                  <td className=\"text-right\">{item.dob}</td>\n                  <td>{item.ticketNo_Pnr}</td>\n                  <td>{item.ticketPrice}</td>\n                  <td>{item.ticketTax}</td>\n                  <td>{item.planType}</td>\n                  <td> - </td>\n                  <td>{item.insuranceTax}</td>\n                  <td>{item.amount}</td>\n                  <td>{item.amount}</td>\n                  <td> - </td>\n                  <td> - </td>\n                </tr>\n              ))\n              }\n\n              </tbody>\n\n            </Table>\n\n          </div>\n\n        </CCardBody>\n      </CCard>\n    </>\n  )\n}\n\nexport default AdminShowStats\n"],"names":["stats","setStats","useState","useEffect","token","getCookieValue","tokenName","axios","get","ipAddress","headers","concat","then","response","console","log","data","recordset","localStorage","setItem","JSON","stringify","catch","e","adminShowStats","_jsx","_Fragment","children","CCard","className","_jsxs","CCardBody","CCardHeader","style","display","justifyContent","flex","CountUp","start","end","length","marginLeft","CButton","backgroundColor","color","border","fontSize","padding","type","onClick","exportToExcel","onKeyUp","typedword","parse","getItem","filtered","filter","agent","agentEmail","toLowerCase","includes","showSearchResult","target","value","height","id","Table","responsive","hover","position","top","map","item","index","bookingDate","split","travellingTo","journeyStartDate","journeyEndDate","passportNo","salutation","firstName","lastName","dob","ticketNo_Pnr","ticketPrice","ticketTax","planType","insuranceTax","amount"],"sourceRoot":""}