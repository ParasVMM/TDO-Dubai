{"version":3,"file":"static/js/6051.3e78867e.chunk.js","mappings":"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","sources":["views/dashboard/AdminShowStats.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {getCookieValue, ipAddress, tokenName} from \"../../utils/Common\";\nimport axios from \"axios\";\nimport {CButton, CCard, CCardBody, CCardHeader} from \"@coreui/react\";\nimport CountUp from \"react-countup\";\nimport Table from \"react-bootstrap/Table\";\nimport Button from \"react-bootstrap/Button\";\nimport {exportToExcel} from \"../../utils/Common\";\nimport NoData from \"../../assets/images/no-data.png\";\n\nfunction AdminShowStats() {\n  const [stats, setStats] = useState([]);\n  const [showData, setShowData] = useState(false);\n  let [loader, setLoader] = useState(true)\n\n  useEffect(() => {\n    adminShowStats();\n  }, []);\n\n  function adminShowStats() {\n    let token = getCookieValue(tokenName);\n\n    // console.log(token)\n    axios.get(ipAddress + \"admin/viewInsurances\", {\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content_Type': 'application-json',\n      }\n    })\n      .then((response) => {\n        console.log(response);\n        setStats(response.data.recordset);\n        setLoader(false)\n        localStorage.setItem(\"searchByEmail\", JSON.stringify(response.data.recordset));\n      }).catch(e => {\n      console.log(e)\n      setLoader(false)\n    })\n  }\n\n  function showSearchResult(typedword) {\n    const recordset = JSON.parse(localStorage.getItem(\"searchByEmail\"));\n    if (typedword) {\n      const filtered = recordset.filter(agent =>\n        agent.agentEmail.toLowerCase().includes(typedword.toLowerCase())\n        ||\n        agent.agentFirstName.toLowerCase().includes(typedword.toLowerCase())\n      );\n      if (filtered == \"\") {\n        setShowData(true);\n      } else {\n        setShowData(false);\n        setStats(filtered);\n      }\n    } else {\n      setStats(recordset);\n    }\n  }\n\n  return (\n    <>\n      {\n        loader ?\n          <div>\n            <span className=\"spinner-border text-primary\"></span>\n          </div>\n          :\n          <>\n          <CCard className=\"mb-4\">\n            <CCardBody>\n              <CCardHeader>\n                <div style={{display: 'flex', justifyContent: 'space-between'}}>\n                  <div style={{flex: 1}}>\n                    <strong><CountUp start={0} end={stats.length}/> Insured Persons</strong>\n                    <br/>\n\n\n                  </div>\n                  <div style={{marginLeft: '10px'}}>\n\n                    <CButton style={{\n                      backgroundColor: 'red',\n                      color: 'white',\n                      border: 'black',\n                      fontSize: '0.875rem',\n                      padding: '0.25rem 0.5rem'\n                    }} type='button'\n                             color=\"success\" onClick={() => exportToExcel('adminStats')}>Export To Excel</CButton>\n                  </div>\n                </div>\n\n                <br/>\n                <span>Search By Agent Email / Agent Name:</span>\n                <input\n                  className=\"form-control\"\n                  type=\"text\"\n                  onKeyUp={(e) => showSearchResult(e.target.value)}\n                />\n\n              </CCardHeader>\n              {\n                showData ?\n                  <div className=\"text-center\" style={{marginTop: '45px'}}>\n                    <img src={NoData} style={{\n                      backgroundRepeat: 'no-repeat',\n                      backgroundSize: '100% 100%',\n                      backgroundPosition: 'center',\n                      height: '100px',\n                      width: '100px'\n                    }}\n                    >\n                    </img>\n                    <h2 style={{color: 'red', marginTop: '20px'}}>No Data Fond for these Email / Name !!!</h2>\n                  </div>\n                  :\n                  <>\n                    <div style={{height: \"335px\"}} id=\"adminStats\" className=\"table-responsive\">\n                      <Table responsive hover>\n                        <thead style={{position: \"sticky\", top: 0}}>\n                        <tr>\n                          <th>SNO</th>\n                          <th>Insurance&nbsp;Vendor</th>\n                          <th>Booking&nbsp;Date</th>\n                          <th>Destination&nbsp;Country</th>\n                          <th>Agent&nbsp;Email</th>\n                          <th>Travel&nbsp;Start&nbsp;Date</th>\n                          <th>Travel&nbsp;End&nbsp;Date</th>\n                          <th>Passport&nbsp;Number</th>\n                          <th>Pax Name</th>\n                          <th>Date&nbsp;Of&nbsp;Birth</th>\n                          <th>PNR/TKT NO</th>\n                          <th>Ticket&nbsp;Fare</th>\n                          <th>Ticket&nbsp;Tax</th>\n                          <th>Insurance Plan Type</th>\n                          <th>Rate</th>\n                          <th>GST</th>\n                          <th>Total</th>\n                          <th>Net&nbsp;Price</th>\n                          <th>Market&nbsp;Expense&nbsp;Parted</th>\n                          <th>Marketing&nbsp;Expense&nbsp;Earned</th>\n                        </tr>\n                        </thead>\n\n                        <tbody>\n                        {stats?.length > 0 && stats.map((item, index) => (\n                          <tr key={index}>\n                            <td> {index + 1} </td>\n                            <td>Symbo</td>\n                            <td>{item.bookingDate.split(\"T\")[0]}</td>\n                            <td>{item.travellingTo}</td>\n                            <td>{item.agentEmail}</td>\n                            <td>{item.journeyStartDate.split(\"T\")[0]}</td>\n                            <td>{item.journeyEndDate.split(\"T\")[0]}</td>\n                            <td>{item.passportNo}</td>\n                            <td>{item.salutation} {item.firstName} {item.lastName}</td>\n                            <td className=\"text-right\">{item.dob}</td>\n                            <td>{item.ticketNo_Pnr}</td>\n                            <td>{item.ticketPrice}</td>\n                            <td>{item.ticketTax}</td>\n                            <td>{item.planType}</td>\n                            <td> -</td>\n                            <td>{item.insuranceTax}</td>\n                            <td>{item.amount}</td>\n                            <td>{item.amount}</td>\n                            <td> -</td>\n                            <td> -</td>\n                          </tr>\n                        ))\n                        }\n\n                        </tbody>\n\n                      </Table>\n\n                    </div>\n                  </>\n              }\n\n            </CCardBody>\n          </CCard>\n          </>\n      }\n    </>\n  )\n}\n\nexport default AdminShowStats\n"],"names":["stats","setStats","useState","showData","setShowData","loader","setLoader","useEffect","token","getCookieValue","tokenName","axios","get","ipAddress","headers","concat","then","response","console","log","data","recordset","localStorage","setItem","JSON","stringify","catch","e","adminShowStats","_jsx","_Fragment","children","className","CCard","_jsxs","CCardBody","CCardHeader","style","display","justifyContent","flex","CountUp","start","end","length","marginLeft","CButton","backgroundColor","color","border","fontSize","padding","type","onClick","exportToExcel","onKeyUp","typedword","parse","getItem","filtered","filter","agent","agentEmail","toLowerCase","includes","agentFirstName","showSearchResult","target","value","marginTop","src","NoData","backgroundRepeat","backgroundSize","backgroundPosition","height","width","id","Table","responsive","hover","position","top","map","item","index","bookingDate","split","travellingTo","journeyStartDate","journeyEndDate","passportNo","salutation","firstName","lastName","dob","ticketNo_Pnr","ticketPrice","ticketTax","planType","insuranceTax","amount"],"sourceRoot":""}